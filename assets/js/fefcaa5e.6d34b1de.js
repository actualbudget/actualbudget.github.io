"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[161],{65121:(n,t,e)=>{e.r(t),e.d(t,{assets:()=>l,contentTitle:()=>r,default:()=>d,frontMatter:()=>o,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"contributing/i18n","title":"Internationalization","description":"Are you interested in bringing Actual to a broader audience by translating and localizing the app into new languages? Great! This guide will show you how to get started. Adding translations can be a great first step into contributing to open-source software.","source":"@site/docs/contributing/i18n.md","sourceDirName":"contributing","slug":"/contributing/i18n","permalink":"/docs/contributing/i18n","draft":false,"unlisted":false,"editUrl":"https://github.com/actualbudget/actual/tree/master/packages/docs/docs/contributing/i18n.md","tags":[],"version":"current","frontMatter":{},"sidebar":"docs","previous":{"title":"Troubleshooting","permalink":"/docs/contributing/troubleshooting"},"next":{"title":"Preview Builds","permalink":"/docs/contributing/preview-builds"}}');var a=e(31085),s=e(71184);const o={},r="Internationalization",l={},c=[{value:"Translating existing strings",id:"translating-existing-strings",level:2},{value:"Suggesting a new translation",id:"suggesting-a-new-translation",level:3},{value:"Voting on existing suggestions",id:"voting-on-existing-suggestions",level:3},{value:"Marking new strings for translation",id:"marking-new-strings-for-translation",level:2},{value:"<code>t()</code> Function",id:"t-function",level:3},{value:"<code>&lt;Trans&gt;</code> Component",id:"trans-component",level:3},{value:"Interpolation with <code>&lt;Trans&gt;</code>",id:"interpolation-with-trans",level:4}];function h(n){const t={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",p:"p",pre:"pre",strong:"strong",...(0,s.R)(),...n.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.header,{children:(0,a.jsx)(t.h1,{id:"internationalization",children:"Internationalization"})}),"\n",(0,a.jsx)(t.p,{children:"Are you interested in bringing Actual to a broader audience by translating and localizing the app into new languages? Great! This guide will show you how to get started. Adding translations can be a great first step into contributing to open-source software."}),"\n",(0,a.jsx)(t.h2,{id:"translating-existing-strings",children:"Translating existing strings"}),"\n",(0,a.jsxs)(t.p,{children:["Actual uses ",(0,a.jsx)(t.a,{href:"https://hosted.weblate.org/projects/actualbudget/actual",children:"Weblate"}),' to manage all translations. In particular, we use Weblate\'s "suggestions" system to maintain high-quality translations.']}),"\n",(0,a.jsx)(t.admonition,{title:"Pull Requests",type:"note",children:(0,a.jsx)(t.p,{children:"We do not accept GitHub Pull Requests modifying translation files\u2014any PRs in the translations repository will be automatically closed."})}),"\n",(0,a.jsx)(t.h3,{id:"suggesting-a-new-translation",children:"Suggesting a new translation"}),"\n",(0,a.jsxs)(t.p,{children:['To suggest a translation for a language you are familiar with, just find a string you\'d like to translate, fill in a translation, and hit "Suggest." This will then give others the opportunity to vote on the most accurate translation. Check out the ',(0,a.jsx)(t.a,{href:"https://docs.weblate.org/en/latest/user/translating.html",children:"Weblate docs"})," for more details."]}),"\n",(0,a.jsxs)(t.p,{children:["Please only fill in translations that you are confident in, and be sure to include the same formatting markers as the English text (example: ",(0,a.jsx)(t.code,{children:"<1>English</1>"})," -> ",(0,a.jsx)(t.code,{children:"<1>Anglais</1>"}),")."]}),"\n",(0,a.jsx)(t.h3,{id:"voting-on-existing-suggestions",children:"Voting on existing suggestions"}),"\n",(0,a.jsx)(t.p,{children:'To help vote on high-quality strings, click on "Strings with suggestions" from a language page, and use the thumbs-up or thumbs-down icons to vote. If you click thumbs-down, it\'s always helpful to provide a reason so that the original translator can improve.'}),"\n",(0,a.jsx)(t.h2,{id:"marking-new-strings-for-translation",children:"Marking new strings for translation"}),"\n",(0,a.jsxs)(t.p,{children:["Developing translated software requires that every text shown to the user passes through a translation function. Actual uses ",(0,a.jsx)(t.a,{href:"https://www.i18next.com/",children:"i18next"})," to achieve this goal."]}),"\n",(0,a.jsx)(t.p,{children:"Strings in Actual are translated by their natural English language version. The project does not use artificial keys to select the appropriate translated text from the message catalog."}),"\n",(0,a.jsx)(t.admonition,{title:"Using natural language keys",type:"note",children:(0,a.jsxs)(t.p,{children:["Consider the text ",(0,a.jsx)(t.code,{children:'"Welcome to Actual Budget"'}),". When marking strings for translation using natural language, this string also becomes the key used to translate it into other languages. This is in contrast to a commonly used alternative of using artificial keys, which would look like ",(0,a.jsx)(t.code,{children:'"text_welcome"'}),". Actual Budget ",(0,a.jsx)(t.strong,{children:"does not"})," use these keys."]})}),"\n",(0,a.jsx)(t.p,{children:"When preparing your translatable strings, please use complete units to translate. If there is a cohesive paragraph with multiple sentences, mark the entire paragraph as one translatable string. Do not split it into multiple texts."}),"\n",(0,a.jsx)(t.p,{children:"The translation framework provides two primary methods for translation:"}),"\n",(0,a.jsxs)(t.h3,{id:"t-function",children:[(0,a.jsx)(t.code,{children:"t()"})," Function"]}),"\n",(0,a.jsxs)(t.p,{children:["The ",(0,a.jsx)(t.code,{children:"t()"})," function is the simplest form of translation, it accepts the text to be translated and an optional object with interpolation variables. We're using the ",(0,a.jsx)(t.code,{children:"i18next"})," singleton instance. You can use the hook within React components to get a reference to it."]}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-javascript",children:"import { useTranslation } from 'react-i18next';\n\nfunction MyComponent() {\n  const { t } = useTranslation();\n\n  return <button aria-label={t('Hello World')} />;\n}\n"})}),"\n",(0,a.jsxs)(t.p,{children:["At runtime, it will select the translation from the currently active locale. You can also add variables to ",(0,a.jsx)(t.a,{href:"https://www.i18next.com/translation-function/interpolation",children:"interpolate"}),":"]}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-javascript",children:"const withPlaceholder = t('Welcome home, {{name}}!', { name: 'Anita' });\n"})}),"\n",(0,a.jsxs)(t.p,{children:["For ",(0,a.jsx)(t.a,{href:"https://www.i18next.com/translation-function/plurals",children:"pluralization"}),", please use the plural form for the default text. The placeholder variable ",(0,a.jsx)(t.strong,{children:"must"})," be named ",(0,a.jsx)(t.code,{children:"count"}),":"]}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-javascript",children:"const manyItems = t('You selected {{count}} items', { count: 4 });\n"})}),"\n",(0,a.jsx)(t.p,{children:"i18next will take care of proper pluralization rules in the currently active language and provide multiple different forms if required."}),"\n",(0,a.jsxs)(t.h3,{id:"trans-component",children:[(0,a.jsx)(t.code,{children:"<Trans>"})," Component"]}),"\n",(0,a.jsxs)(t.p,{children:["When translating text with simple HTML tags or other React components, we ask that you use the ",(0,a.jsxs)(t.a,{href:"https://react.i18next.com/latest/trans-component",children:[(0,a.jsx)(t.code,{children:"<Trans>"})," component"]}),"."]}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-javascript",children:"import { Trans } from 'react-i18next';\n\nfunction MyComponent() {\n  return (\n    <Trans>\n      Click <Link href={url}>here</Link> to become a millionaire.\n    </Trans>\n  );\n}\n"})}),"\n",(0,a.jsxs)(t.h4,{id:"interpolation-with-trans",children:["Interpolation with ",(0,a.jsx)(t.code,{children:"<Trans>"})]}),"\n",(0,a.jsxs)(t.p,{children:["Handling placeholder variables and pluralization within the ",(0,a.jsx)(t.code,{children:"<Trans>"})," React component is handled slightly differently. For more details, please refer to ",(0,a.jsx)(t.a,{href:"https://react.i18next.com/latest/trans-component#interpolation",children:"i18next-react's documentation"}),"."]}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-javascript",children:'import { Trans } from \'react-i18next\';\n\nfunction MyComponent() {\n  const person = { name: "Pedro" };\n  // You can use an object literal within <Trans>!\n  return (\n    <Trans>\n      Your name is {{ name: person.name }}.\n    </Trans>\n  );\n  // This will result in the translation string:\n  // "Your name is {{name}}."\n}\n'})})]})}function d(n={}){const{wrapper:t}={...(0,s.R)(),...n.components};return t?(0,a.jsx)(t,{...n,children:(0,a.jsx)(h,{...n})}):h(n)}},71184:(n,t,e)=>{e.d(t,{R:()=>o,x:()=>r});var i=e(14041);const a={},s=i.createContext(a);function o(n){const t=i.useContext(s);return i.useMemo(function(){return"function"==typeof n?n(t):{...t,...n}},[t,n])}function r(n){let t;return t=n.disableParentContext?"function"==typeof n.components?n.components(a):n.components||a:o(n.components),i.createElement(s.Provider,{value:t},n.children)}}}]);