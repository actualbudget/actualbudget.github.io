"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[233],{5687:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>t,contentTitle:()=>o,default:()=>p,frontMatter:()=>a,metadata:()=>c,toc:()=>l});const c=JSON.parse('{"id":"contributing/project-details/index","title":"The Actual Project Structure","description":"Actual is made up of lots of different packages organized as a monorepo using Yarn workspaces. This article covers how they all fit together to form the project you know as Actual.","source":"@site/docs/contributing/project-details/index.md","sourceDirName":"contributing/project-details","slug":"/contributing/project-details/","permalink":"/docs/contributing/project-details/","draft":false,"unlisted":false,"editUrl":"https://github.com/actualbudget/actual/tree/master/packages/docs/docs/contributing/project-details/index.md","tags":[],"version":"current","frontMatter":{},"sidebar":"docs","previous":{"title":"Contributing to Actual Budget","permalink":"/docs/contributing/"},"next":{"title":"Database Details","permalink":"/docs/contributing/project-details/database"}}');var r=n(31085),i=n(71184);const a={},o="The Actual Project Structure",t={},l=[{value:"1. loot-core (<code>packages/loot-core/</code>)",id:"1-loot-core-packagesloot-core",level:3},{value:"2. desktop-client (<code>packages/desktop-client/</code> - aliased as <code>@actual-app/web</code>)",id:"2-desktop-client-packagesdesktop-client---aliased-as-actual-appweb",level:3},{value:"3. desktop-electron (<code>packages/desktop-electron/</code>)",id:"3-desktop-electron-packagesdesktop-electron",level:3},{value:"4. api (<code>packages/api/</code> - aliased as <code>@actual-app/api</code>)",id:"4-api-packagesapi---aliased-as-actual-appapi",level:3},{value:"5. sync-server (<code>packages/sync-server/</code> - aliased as <code>@actual-app/sync-server</code>)",id:"5-sync-server-packagessync-server---aliased-as-actual-appsync-server",level:3},{value:"6. component-library (<code>packages/component-library/</code> - aliased as <code>@actual-app/components</code>)",id:"6-component-library-packagescomponent-library---aliased-as-actual-appcomponents",level:3},{value:"7. crdt (<code>packages/crdt/</code> - aliased as <code>@actual-app/crdt</code>)",id:"7-crdt-packagescrdt---aliased-as-actual-appcrdt",level:3},{value:"8. plugins-service (<code>packages/plugins-service/</code>)",id:"8-plugins-service-packagesplugins-service",level:3},{value:"9. eslint-plugin-actual (<code>packages/eslint-plugin-actual/</code>)",id:"9-eslint-plugin-actual-packageseslint-plugin-actual",level:3},{value:"10. docs (<code>packages/docs/</code>)",id:"10-docs-packagesdocs",level:3},{value:"Working with Packages",id:"working-with-packages",level:2}];function d(e){const s={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.header,{children:(0,r.jsx)(s.h1,{id:"the-actual-project-structure",children:"The Actual Project Structure"})}),"\n",(0,r.jsxs)(s.p,{children:["Actual is made up of lots of different ",(0,r.jsx)(s.em,{children:"packages"})," organized as a monorepo using Yarn workspaces. This article covers how they all fit together to form the project you know as Actual."]}),"\n",(0,r.jsxs)(s.p,{children:["All of our repositories can be found in the ",(0,r.jsx)(s.a,{href:"https://github.com/actualbudget",children:"Actual Budget"})," organization on GitHub, within that organization you will then find the repository containing the code for ",(0,r.jsx)(s.a,{href:"https://github.com/actualbudget/actual",children:"Actual, Actual Server and the Docs"}),"."]}),"\n",(0,r.jsx)(s.p,{children:"The Actual monorepo contains the following main packages:"}),"\n",(0,r.jsxs)(s.h3,{id:"1-loot-core-packagesloot-core",children:["1. loot-core (",(0,r.jsx)(s.code,{children:"packages/loot-core/"}),")"]}),"\n",(0,r.jsx)(s.p,{children:"The core application logic that runs on any platform."}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Purpose"}),": Business logic, database operations, and calculations"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Platform"}),": Platform-agnostic code that works in both browser and Node.js environments"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Exports"}),": Provides conditional exports for browser and node environments"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Key Directories"}),":","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"src/client/"})," - Client-side core logic"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"src/server/"})," - Server-side core logic"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"src/shared/"})," - Shared utilities"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"src/types/"})," - Type definitions"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"migrations/"})," - Database migration files"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.h3,{id:"2-desktop-client-packagesdesktop-client---aliased-as-actual-appweb",children:["2. desktop-client (",(0,r.jsx)(s.code,{children:"packages/desktop-client/"})," - aliased as ",(0,r.jsx)(s.code,{children:"@actual-app/web"}),")"]}),"\n",(0,r.jsx)(s.p,{children:"The React-based UI for web and desktop."}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Purpose"}),": Forms the front-end code for the Actual web app - the code you see when you load Actual in your browser"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Note"}),': Despite the name "desktop-client", this package is actually the web UI used by both browser and desktop apps']}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Technology"}),": React components using functional programming patterns, Vite for bundling"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Key Directories"}),":","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"src/components/"})," - React components"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"src/hooks/"})," - Custom React hooks"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"e2e/"})," - End-to-end tests"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.h3,{id:"3-desktop-electron-packagesdesktop-electron",children:["3. desktop-electron (",(0,r.jsx)(s.code,{children:"packages/desktop-electron/"}),")"]}),"\n",(0,r.jsx)(s.p,{children:"Electron wrapper for the desktop application."}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Purpose"}),": Provides the desktop application wrapper that allows stable use of the Actual Web App locally with or without internet or a sync-server"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Technology"}),": Electron for window management and native OS integration"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Note"}),": It is unlikely you will need to make changes here unless working on Electron-specific features"]}),"\n"]}),"\n",(0,r.jsxs)(s.h3,{id:"4-api-packagesapi---aliased-as-actual-appapi",children:["4. api (",(0,r.jsx)(s.code,{children:"packages/api/"})," - aliased as ",(0,r.jsx)(s.code,{children:"@actual-app/api"}),")"]}),"\n",(0,r.jsx)(s.p,{children:"Public API for programmatic access to Actual."}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Purpose"}),": Node.js API package designed for integrations and automation"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Use Cases"}),": Custom importers, data exporters, automation scripts"]}),"\n"]}),"\n",(0,r.jsxs)(s.h3,{id:"5-sync-server-packagessync-server---aliased-as-actual-appsync-server",children:["5. sync-server (",(0,r.jsx)(s.code,{children:"packages/sync-server/"})," - aliased as ",(0,r.jsx)(s.code,{children:"@actual-app/sync-server"}),")"]}),"\n",(0,r.jsx)(s.p,{children:"Synchronization server for multi-device support."}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Purpose"}),": Handles synchronization of budget data across multiple devices"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Technology"}),": Express-based server, currently transitioning to TypeScript (mostly JavaScript)"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Dependency"}),": Has a dependency on ",(0,r.jsx)(s.code,{children:"@actual-app/web"})," (the desktop-client package)"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Deployment"}),": When you deploy Actual Server and run ",(0,r.jsx)(s.code,{children:"yarn build:server"})," and ",(0,r.jsx)(s.code,{children:"yarn install"}),", the Actual client is installed as a dependency"]}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:["You can see this in the ",(0,r.jsx)(s.a,{href:"https://github.com/actualbudget/actual/blob/master/packages/sync-server/package.json",children:"package.json"})," file:"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-json",children:'"dependencies": {\n    "@actual-app/web": "workspace:*",\n    // rest of dependencies...\n  },\n'})}),"\n",(0,r.jsxs)(s.p,{children:["The workspace reference ensures that changes to ",(0,r.jsx)(s.code,{children:"@actual-app/web"})," are reflected in your server deployment. If you see any discrepancies, run ",(0,r.jsx)(s.code,{children:"yarn build:server"})," to compile the latest."]}),"\n",(0,r.jsxs)(s.h3,{id:"6-component-library-packagescomponent-library---aliased-as-actual-appcomponents",children:["6. component-library (",(0,r.jsx)(s.code,{children:"packages/component-library/"})," - aliased as ",(0,r.jsx)(s.code,{children:"@actual-app/components"}),")"]}),"\n",(0,r.jsx)(s.p,{children:"Reusable React UI components."}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Purpose"}),": Shared components like Button, Input, Menu, etc."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Features"}),": Theme system, design tokens, and icon components"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Icons"}),": Contains 375+ icons in SVG/TSX format (auto-generated, don't edit manually)"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Key Directories"}),":","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"src/"})," - Component source files"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"src/icons/"})," - Icon components (auto-generated)"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.h3,{id:"7-crdt-packagescrdt---aliased-as-actual-appcrdt",children:["7. crdt (",(0,r.jsx)(s.code,{children:"packages/crdt/"})," - aliased as ",(0,r.jsx)(s.code,{children:"@actual-app/crdt"}),")"]}),"\n",(0,r.jsx)(s.p,{children:"CRDT (Conflict-free Replicated Data Type) implementation for data synchronization."}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Purpose"}),": Core sync logic for handling concurrent edits across devices"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Technology"}),": Protocol buffers for serialization"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Use"}),": Used by the sync-server for conflict-free data synchronization"]}),"\n"]}),"\n",(0,r.jsxs)(s.h3,{id:"8-plugins-service-packagesplugins-service",children:["8. plugins-service (",(0,r.jsx)(s.code,{children:"packages/plugins-service/"}),")"]}),"\n",(0,r.jsx)(s.p,{children:"Service for handling plugins/extensions."}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Purpose"}),": Manages plugin functionality and extensions"]}),"\n"]}),"\n",(0,r.jsxs)(s.h3,{id:"9-eslint-plugin-actual-packageseslint-plugin-actual",children:["9. eslint-plugin-actual (",(0,r.jsx)(s.code,{children:"packages/eslint-plugin-actual/"}),")"]}),"\n",(0,r.jsx)(s.p,{children:"Custom ESLint rules specific to Actual."}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Purpose"}),": Enforces Actual-specific coding standards"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Rules"}),":","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"no-untranslated-strings"})," - Enforces i18n usage"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"prefer-trans-over-t"})," - Prefers Trans component over t() function"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"prefer-logger-over-console"})," - Enforces using logger instead of console"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"typography"})," - Typography rules"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.code,{children:"prefer-if-statement"})," - Prefers explicit if statements"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.h3,{id:"10-docs-packagesdocs",children:["10. docs (",(0,r.jsx)(s.code,{children:"packages/docs/"}),")"]}),"\n",(0,r.jsx)(s.p,{children:"Documentation website built with Docusaurus."}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Purpose"}),": The Actual documentation website"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Technology"}),": Docusaurus 3 for static site generation"]}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"working-with-packages",children:"Working with Packages"}),"\n",(0,r.jsx)(s.p,{children:"To run commands for a specific package, use:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"yarn workspace <workspace-name> run <command>\n"})}),"\n",(0,r.jsxs)(s.p,{children:["For more information about development workflows, see the ",(0,r.jsx)(s.a,{href:"/docs/contributing/development-setup",children:"Development Setup Guide"}),"."]})]})}function p(e={}){const{wrapper:s}={...(0,i.R)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},71184:(e,s,n)=>{n.d(s,{R:()=>a,x:()=>o});var c=n(14041);const r={},i=c.createContext(r);function a(e){const s=c.useContext(i);return c.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function o(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),c.createElement(i.Provider,{value:s},e.children)}}}]);