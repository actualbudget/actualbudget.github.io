"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[5762],{6740:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>p,frontMatter:()=>c,metadata:()=>s,toc:()=>h});const s=JSON.parse('{"id":"api/reference","title":"API Reference","description":"<APIList title=\\"Budgets\\" sections={[","source":"@site/docs/api/reference.md","sourceDirName":"api","slug":"/api/reference","permalink":"/docs/api/reference","draft":false,"unlisted":false,"editUrl":"https://github.com/actualbudget/actual/tree/master/packages/docs/docs/api/reference.md","tags":[],"version":"current","frontMatter":{"title":"API Reference"},"sidebar":"docs","previous":{"title":"Using the API","permalink":"/docs/api/"},"next":{"title":"ActualQL Overview","permalink":"/docs/api/actual-ql/"}}');var r=t(31085),a=t(71184),d=t(67686);t(14041);function i({title:e,sections:n}){return(0,r.jsxs)("div",{className:"mt-4",children:[(0,r.jsx)("div",{className:"",children:e}),(0,r.jsx)("ul",{children:n.map(e=>{const n=e.replace(/[ -]/g,"-").toLowerCase();return(0,r.jsx)("li",{className:"list-none m-0 mt-1 pl-4 text-sm link-color-inherit text-gray-700",children:(0,r.jsx)("a",{className:"no-underline",href:"#"+n,children:e})},n)})})]})}const c={title:"API Reference"},o=void 0,l={},h=[{value:"Types of Methods",id:"types-of-methods",level:2},{value:"Primitives",id:"primitives",level:2},{value:"Budgets",id:"budgets",level:2},{value:"<code>getBudgetMonths</code>",id:"getbudgetmonths",level:4},{value:"<code>getBudgetMonth</code>",id:"getbudgetmonth",level:4},{value:"<code>setBudgetAmount</code>",id:"setbudgetamount",level:4},{value:"<code>setBudgetCarryover</code>",id:"setbudgetcarryover",level:4},{value:"<code>holdBudgetForNextMonth</code>",id:"holdbudgetfornextmonth",level:4},{value:"<code>resetBudgetHold</code>",id:"resetbudgethold",level:4},{value:"Transactions",id:"transactions",level:2},{value:"Transaction",id:"transaction",level:4},{value:"Split Transactions",id:"split-transactions",level:4},{value:"Transfers",id:"transfers",level:4},{value:"Methods",id:"methods",level:4},{value:"<code>addTransactions</code>",id:"addtransactions",level:4},{value:"<code>importTransactions</code>",id:"importtransactions",level:4},{value:"<code>getTransactions</code>",id:"gettransactions",level:4},{value:"<code>updateTransaction</code>",id:"updatetransaction",level:4},{value:"<code>deleteTransaction</code>",id:"deletetransaction",level:4},{value:"Examples",id:"examples",level:4},{value:"Accounts",id:"accounts",level:2},{value:"Account",id:"account",level:4},{value:"Account Types",id:"account-types",level:4},{value:"Closing Accounts",id:"closing-accounts",level:4},{value:"Methods",id:"methods-1",level:4},{value:"<code>getAccounts</code>",id:"getaccounts",level:4},{value:"<code>createAccount</code>",id:"createaccount",level:4},{value:"<code>updateAccount</code>",id:"updateaccount",level:4},{value:"<code>closeAccount</code>",id:"closeaccount",level:4},{value:"<code>reopenAccount</code>",id:"reopenaccount",level:4},{value:"<code>deleteAccount</code>",id:"deleteaccount",level:4},{value:"<code>getAccountBalance</code>",id:"getaccountbalance",level:4},{value:"Examples",id:"examples-1",level:4},{value:"Categories",id:"categories",level:2},{value:"Category",id:"category",level:4},{value:"Methods",id:"methods-2",level:4},{value:"<code>getCategories</code>",id:"getcategories",level:4},{value:"<code>createCategory</code>",id:"createcategory",level:4},{value:"<code>updateCategory</code>",id:"updatecategory",level:4},{value:"<code>deleteCategory</code>",id:"deletecategory",level:4},{value:"Examples",id:"examples-2",level:3},{value:"Income Categories",id:"income-categories",level:4},{value:"Category Groups",id:"category-groups",level:2},{value:"Category Group",id:"category-group",level:4},{value:"Income Category Groups",id:"income-category-groups",level:4},{value:"Methods",id:"methods-3",level:4},{value:"<code>getCategoryGroups</code>",id:"getcategorygroups",level:4},{value:"<code>createCategoryGroup</code>",id:"createcategorygroup",level:4},{value:"<code>updateCategoryGroup</code>",id:"updatecategorygroup",level:4},{value:"<code>deleteCategoryGroup</code>",id:"deletecategorygroup",level:4},{value:"Payees",id:"payees",level:2},{value:"Payee",id:"payee",level:4},{value:"Transfers",id:"transfers-1",level:4},{value:"Methods",id:"methods-4",level:4},{value:"<code>getPayees</code>",id:"getpayees",level:4},{value:"<code>createPayee</code>",id:"createpayee",level:4},{value:"<code>updatePayee</code>",id:"updatepayee",level:4},{value:"<code>deletePayee</code>",id:"deletepayee",level:4},{value:"<code>mergePayees</code>",id:"mergepayees",level:4},{value:"Rules",id:"rules",level:2},{value:"ConditionOrAction",id:"conditionoraction",level:4},{value:"Rule",id:"rule",level:4},{value:"Payee Rule",id:"payee-rule",level:4},{value:"Methods",id:"methods-5",level:4},{value:"<code>getRules</code>",id:"getrules",level:4},{value:"<code>getPayeeRules</code>",id:"getpayeerules",level:4},{value:"<code>createRule</code>",id:"createrule",level:4},{value:"<code>updateRule</code>",id:"updaterule",level:4},{value:"<code>deleteRule</code>",id:"deleterule",level:4},{value:"Examples",id:"examples-3",level:4},{value:"Schedule",id:"schedule",level:2},{value:"Schedule",id:"schedule-1",level:4},{value:"RecurConfig",id:"recurconfig",level:4},{value:"Methods",id:"methods-6",level:4},{value:"<code>getSchedules</code>",id:"getschedules",level:4},{value:"<code>createSchedule</code>",id:"createschedule",level:4},{value:"<code>updateSchedule</code>",id:"updateschedule",level:4},{value:"<code>deleteSchedule</code>",id:"deleteschedule",level:4},{value:"Misc",id:"misc",level:2},{value:"BudgetFile",id:"budgetfile",level:4},{value:"InitConfig",id:"initconfig",level:4},{value:"Methods",id:"methods-7",level:4},{value:"<code>init</code>",id:"init",level:4},{value:"<code>shutdown</code>",id:"shutdown",level:4},{value:"<code>sync</code>",id:"sync",level:4},{value:"<code>runBankSync</code>",id:"runbanksync",level:4},{value:"<code>runImport</code>",id:"runimport",level:4},{value:"<code>getBudgets</code>",id:"getbudgets",level:4},{value:"<code>loadBudget</code>",id:"loadbudget",level:4},{value:"<code>downloadBudget</code>",id:"downloadbudget",level:4},{value:"<code>batchBudgetUpdates</code>",id:"batchbudgetupdates",level:4},{value:"<code>runQuery</code>",id:"runquery",level:4},{value:"<code>getIDByName</code>",id:"getidbyname",level:4},{value:"<code>getServerVersion</code>",id:"getserverversion",level:4}];function u(e){const n={a:"a",code:"code",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i,{title:"Budgets",sections:["getBudgetMonths","getBudgetMonth","setBudgetAmount","setBudgetCarryover","holdBudgetForNextMonth","resetBudgetHold"]}),"\n",(0,r.jsx)(i,{title:"Transactions",sections:["Transaction","addTransactions","importTransactions","getTransactions","updateTransaction","deleteTransaction"]}),"\n",(0,r.jsx)(i,{title:"Accounts",sections:["Account","getAccounts","createAccount","updateAccount","closeAccount","reopenAccount","deleteAccount","getAccountBalance"]}),"\n",(0,r.jsx)(i,{title:"Categories",sections:["Category","getCategories","createCategory","updateCategory","deleteCategory"]}),"\n",(0,r.jsx)(i,{title:"Category Groups",sections:["Category group","getCategoryGroups","createCategoryGroup","updateCategoryGroup","deleteCategoryGroup"]}),"\n",(0,r.jsx)(i,{title:"Payees",sections:["Payee","getPayees","createPayee","updatePayee","deletePayee","mergePayees"]}),"\n",(0,r.jsx)(i,{title:"Rules",sections:["ConditionOrAction","Rule","Payee rule","getRules","getPayeeRules","createRule","updateRule","deleteRule"]}),"\n",(0,r.jsx)(i,{title:"Schedules",sections:["Schedule","RecurConfig","getSchedules","createSchedule","updateSchedule","deleteSchedule"]}),"\n",(0,r.jsx)(i,{title:"Misc",sections:["BudgetFile","initConfig","init","shutdown","sync","runBankSync","runImport","getBudgets","loadBudget","downloadBudget","batchBudgetUpdates","runQuery","getIDByName"]}),"\n",(0,r.jsx)(n.h2,{id:"types-of-methods",children:"Types of Methods"}),"\n",(0,r.jsx)(n.p,{children:"API methods are categorized into one of four types:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"get"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"create"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"update"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"delete"})}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["Objects may have fields specific for a type of method. For example, the ",(0,r.jsx)(n.code,{children:"payee"})," field of a ",(0,r.jsx)(n.code,{children:"transaction"})," is only available in a ",(0,r.jsx)(n.code,{children:"create"})," method. This field doesn't exist in objects returned from a ",(0,r.jsx)(n.code,{children:"get"})," method (",(0,r.jsx)(n.code,{children:"payee_id"})," is used instead)."]}),"\n",(0,r.jsx)(n.p,{children:"Fields specific to a type of request are marked as such in the notes."}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"id"})," is a special field. All objects have an ",(0,r.jsx)(n.code,{children:"id"})," field. However, you don't need to specify an ",(0,r.jsx)(n.code,{children:"id"})," in a ",(0,r.jsx)(n.code,{children:"create"})," method; all ",(0,r.jsx)(n.code,{children:"create"})," methods will return the created ",(0,r.jsx)(n.code,{children:"id"})," back to you."]}),"\n",(0,r.jsxs)(n.p,{children:["All ",(0,r.jsx)(n.code,{children:"update"})," and ",(0,r.jsx)(n.code,{children:"delete"})," methods take an ",(0,r.jsx)(n.code,{children:"id"})," to specify the desired object. ",(0,r.jsx)(n.code,{children:"update"})," takes the fields to update as a second argument \u2014 it does not take a full object. That means even if a field is required, you don't have to pass it to ",(0,r.jsx)(n.code,{children:"update"}),". For example, a ",(0,r.jsx)(n.code,{children:"category"})," requires the ",(0,r.jsx)(n.code,{children:"group_id"})," field, however ",(0,r.jsx)(n.code,{children:'updateCategory(id, { name: "Food" })'})," is a valid call. Required means that an ",(0,r.jsx)(n.code,{children:"update"})," can't set the field to ",(0,r.jsx)(n.code,{children:"null"})," and a ",(0,r.jsx)(n.code,{children:"create"})," must always contain the field."]}),"\n",(0,r.jsx)(n.h2,{id:"primitives",children:"Primitives"}),"\n",(0,r.jsx)(n.p,{children:"These are types."}),"\n",(0,r.jsx)(d.Gz,{}),"\n",(0,r.jsx)(n.h2,{id:"budgets",children:"Budgets"}),"\n",(0,r.jsx)(n.h4,{id:"getbudgetmonths",children:(0,r.jsx)(n.code,{children:"getBudgetMonths"})}),"\n",(0,r.jsx)(d.IT,{name:"getBudgetMonths",args:[],returns:"Promise<month[]>"}),"\n",(0,r.jsx)(n.h4,{id:"getbudgetmonth",children:(0,r.jsx)(n.code,{children:"getBudgetMonth"})}),"\n",(0,r.jsx)(d.IT,{name:"getBudgetMonth",args:[{name:"month",type:"month"}],returns:"Promise<Budget>"}),"\n",(0,r.jsx)(n.h4,{id:"setbudgetamount",children:(0,r.jsx)(n.code,{children:"setBudgetAmount"})}),"\n",(0,r.jsx)(d.IT,{name:"setBudgetAmount",args:[{name:"month",type:"month"},{name:"categoryId",type:"id"},{name:"value",type:"amount"}],returns:"Promise<null>"}),"\n",(0,r.jsx)(n.h4,{id:"setbudgetcarryover",children:(0,r.jsx)(n.code,{children:"setBudgetCarryover"})}),"\n",(0,r.jsx)(d.IT,{name:"setBudgetCarryover",args:[{name:"month",type:"month"},{name:"categoryId",type:"id"},{name:"flag",type:"bool"}],returns:"Promise<null>"}),"\n",(0,r.jsx)(n.h4,{id:"holdbudgetfornextmonth",children:(0,r.jsx)(n.code,{children:"holdBudgetForNextMonth"})}),"\n",(0,r.jsx)(d.IT,{name:"holdBudgetForNextMonth",args:[{name:"month",type:"month"},{name:"value",type:"amount"}],returns:"Promise<null>"}),"\n",(0,r.jsx)(n.h4,{id:"resetbudgethold",children:(0,r.jsx)(n.code,{children:"resetBudgetHold"})}),"\n",(0,r.jsx)(d.IT,{name:"resetBudgetHold",args:[{name:"month",type:"month"}],returns:"Promise<null>"}),"\n",(0,r.jsx)(n.h2,{id:"transactions",children:"Transactions"}),"\n",(0,r.jsx)(n.h4,{id:"transaction",children:"Transaction"}),"\n",(0,r.jsx)(d.cj,{fields:d.JD.transaction}),"\n",(0,r.jsx)(n.h4,{id:"split-transactions",children:"Split Transactions"}),"\n",(0,r.jsxs)(n.p,{children:["A split transaction has several sub-transactions that split the total\namount across them. You can create a split transaction by specifying\nan array of sub-transactions in the ",(0,r.jsx)(n.code,{children:"subtransactions"})," field."]}),"\n",(0,r.jsxs)(n.p,{children:["Subtransactions can specify the following fields, and ",(0,r.jsx)(n.code,{children:"amount"})," is the only required field:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"amount"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"category"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"notes"})}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"If the amounts of the sub-transactions do not equal the total amount\nof the transaction, currently the API call will succeed but an error\nwill be displayed within the app."}),"\n",(0,r.jsx)(n.h4,{id:"transfers",children:"Transfers"}),"\n",(0,r.jsxs)(n.p,{children:["Existing transfers will have the ",(0,r.jsx)(n.code,{children:"transfer_id"})," field which points to the transaction on the other side. ",(0,r.jsx)(n.strong,{children:"You should not change this"})," or you will cause unexpected behavior. (You are allowed to set this when importing, however.)"]}),"\n",(0,r.jsxs)(n.p,{children:["If you want to create a transfer, use the transfer payee for the account you wish to transfer to/from. Load the payees, use the ",(0,r.jsx)(n.a,{href:"#payee",children:(0,r.jsx)(n.code,{children:"transfer_acct"})})," field of the payee to find the account you want to transfer to/from, and assign that payee to the transaction. A transfer with a transaction in both accounts will be created. (See ",(0,r.jsx)(n.a,{href:"#transfers-1",children:"transfer payees"}),".)"]}),"\n",(0,r.jsx)(n.h4,{id:"methods",children:"Methods"}),"\n",(0,r.jsx)(n.h4,{id:"addtransactions",children:(0,r.jsx)(n.code,{children:"addTransactions"})}),"\n",(0,r.jsx)(d.IT,{name:"addTransactions",args:[{name:"accountId",type:"id"},{name:"transactions",type:"Transaction[]"},{name:"runTransfers = false",type:"bool?"},{name:"learnCategories = false",type:"bool?"}],returns:"Promise<id[]>"}),"\n",(0,r.jsxs)(n.p,{children:["Adds multiple transactions at once. Does not reconcile (see ",(0,r.jsx)(n.code,{children:"importTransactions"}),"). Returns an array of ids of the newly created transactions."]}),"\n",(0,r.jsxs)(n.p,{children:["This method does ",(0,r.jsx)(n.strong,{children:"not"})," avoid duplicates. Use ",(0,r.jsx)(n.code,{children:"importTransactions"})," if you want the full reconcile behavior."]}),"\n",(0,r.jsx)(n.p,{children:"This method has the following optional flags:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"runTransfers"}),": create transfers for transactions where transfer payee is given (defaults to false)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"learnCategories"}),": update Rules based on the category field in the transactions (defaults to false)"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["This method is mainly for custom importers that want to skip all the automatic stuff because it wants to create raw data. You probably want to use ",(0,r.jsx)(n.code,{children:"importTransactions"}),"."]}),"\n",(0,r.jsx)(n.h4,{id:"importtransactions",children:(0,r.jsx)(n.code,{children:"importTransactions"})}),"\n",(0,r.jsx)(d.IT,{name:"importTransactions",args:[{name:"accountId",type:"id"},{name:"transactions",type:"Transaction[]"}],returns:"Promise<{ errors, added, updated }>"}),"\n",(0,r.jsxs)(n.p,{children:["Adds multiple transactions at once, while going through the same process as importing a file or downloading transactions from a bank.\nIn particular, all rules are run on the specified transactions before adding them.\nUse ",(0,r.jsx)(n.code,{children:"addTransactions"})," instead for adding raw transactions without post-processing."]}),"\n",(0,r.jsxs)(n.p,{children:['The import will "reconcile" transactions to avoid adding duplicates. Transactions with the same ',(0,r.jsx)(n.code,{children:"imported_id"})," will never be added more than once. Otherwise, the system will match transactions with the same amount and with similar dates and payees and try to avoid duplicates. If not using ",(0,r.jsx)(n.code,{children:"imported_id"})," you should check the results after importing."]}),"\n",(0,r.jsxs)(n.p,{children:["It will also create transfers if a transfer payee is specified. See ",(0,r.jsx)(n.a,{href:"#transfers",children:"transfers"}),"."]}),"\n",(0,r.jsx)(n.p,{children:"This method returns an object with the following fields:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"added"}),": an array of ids of transactions that were added"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"updated"}),": an array of ids of transactions that were updated (such as being cleared)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"errors"}),": any errors that occurred during the process (most likely a single error with no changes to transactions)"]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"gettransactions",children:(0,r.jsx)(n.code,{children:"getTransactions"})}),"\n",(0,r.jsx)(d.IT,{name:"getTransactions",args:[{name:"accountId",type:"id"},{name:"startDate",type:"date"},{name:"endDate",type:"date"}],returns:"Promise<Transaction[]>"}),"\n",(0,r.jsxs)(n.p,{children:["Get all the transactions in ",(0,r.jsx)(n.code,{children:"accountId"})," between the specified dates (inclusive). Returns an array of ",(0,r.jsx)(n.a,{href:"#transaction",children:(0,r.jsx)(n.code,{children:"Transaction"})})," objects."]}),"\n",(0,r.jsx)(n.h4,{id:"updatetransaction",children:(0,r.jsx)(n.code,{children:"updateTransaction"})}),"\n",(0,r.jsx)(d.IT,{name:"updateTransaction",args:[{name:"id",type:"id"},{name:"fields",type:"object"}]}),"\n",(0,r.jsxs)(n.p,{children:["Update fields of a transaction. ",(0,r.jsx)(n.code,{children:"fields"})," can specify any field described in ",(0,r.jsx)(n.a,{href:"#transaction",children:(0,r.jsx)(n.code,{children:"Transaction"})}),"."]}),"\n",(0,r.jsx)(n.h4,{id:"deletetransaction",children:(0,r.jsx)(n.code,{children:"deleteTransaction"})}),"\n",(0,r.jsx)(d.IT,{name:"deleteTransaction",args:[{name:"id",type:"id"}]}),"\n",(0,r.jsx)(n.p,{children:"Delete a transaction."}),"\n",(0,r.jsx)(n.h4,{id:"examples",children:"Examples"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"// Create a transaction of $12.00. A payee of \"Kroger\" will be\n// automatically created if it does not exist already and\n// assigned to the transaction.\n\nawait importTransactions(accountId, [\n  {\n    date: '2019-08-20',\n    amount: 1200,\n    payee_name: 'Kroger',\n    category: 'c179c3f4-28a6-4fbd-a54d-195cced07a80',\n  },\n]);\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"// Get all transactions in an account for the month of August\n// (it doesn't matter that August 31st doesn't exist).\n\nawait getTransactions(accountId, '2019-08-01', '2019-08-31');\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"// Assign the \"Food\" category to a transaction\n\nlet categories = await getCategories();\nlet foodCategory = category.find(cat => cat.name === 'Food');\nawait updateTransaction(id, { category: foodCategory.id });\n"})}),"\n",(0,r.jsx)(n.h2,{id:"accounts",children:"Accounts"}),"\n",(0,r.jsx)(n.h4,{id:"account",children:"Account"}),"\n",(0,r.jsx)(d.cj,{fields:d.JD.account}),"\n",(0,r.jsx)(n.h4,{id:"account-types",children:"Account Types"}),"\n",(0,r.jsx)(n.p,{children:"The account type must be one of these valid strings:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"checking"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"savings"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"credit"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"investment"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"mortgage"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"debt"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"other"})}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"The account type does not affect anything currently. It's simply extra information about the account."}),"\n",(0,r.jsx)(n.h4,{id:"closing-accounts",children:"Closing Accounts"}),"\n",(0,r.jsxs)(n.p,{children:["Avoid setting the ",(0,r.jsx)(n.code,{children:"closed"})," property directly to close an account; instead use the ",(0,r.jsx)(n.code,{children:"closeAccount"})," method. If the account still has money in it you will be required to specify another account to transfer the current balance to. This will help track your money correctly."]}),"\n",(0,r.jsxs)(n.p,{children:["If you want to fully delete an account and remove it entirely from the system, use ",(0,r.jsx)(n.a,{href:"#deleteaccount",children:(0,r.jsx)(n.code,{children:"deleteAccount"})}),". Note that if it's an on budget account, any money coming from that account will disappear."]}),"\n",(0,r.jsx)(n.h4,{id:"methods-1",children:"Methods"}),"\n",(0,r.jsx)(n.h4,{id:"getaccounts",children:(0,r.jsx)(n.code,{children:"getAccounts"})}),"\n",(0,r.jsx)(d.IT,{name:"getAccounts",args:[],returns:"Promise<Account[]>"}),"\n",(0,r.jsxs)(n.p,{children:["Get all accounts. Returns an array of ",(0,r.jsx)(n.a,{href:"#account",children:(0,r.jsx)(n.code,{children:"Account"})})," objects."]}),"\n",(0,r.jsx)(n.h4,{id:"createaccount",children:(0,r.jsx)(n.code,{children:"createAccount"})}),"\n",(0,r.jsx)(d.IT,{name:"createAccount",args:[{name:"account",type:"Account"},{name:"initialBalance = 0",type:"amount?"}],returns:"Promise<id>"}),"\n",(0,r.jsxs)(n.p,{children:["Create an account with an initial balance of ",(0,r.jsx)(n.code,{children:"initialBalance"})," (defaults to 0). Remember that ",(0,r.jsx)(n.a,{href:"#primitives",children:(0,r.jsx)(n.code,{children:"amount"})})," has no decimal places. Returns the ",(0,r.jsx)(n.code,{children:"id"})," of the new account."]}),"\n",(0,r.jsx)(n.h4,{id:"updateaccount",children:(0,r.jsx)(n.code,{children:"updateAccount"})}),"\n",(0,r.jsx)(d.IT,{name:"updateAccount",args:[{name:"id",type:"id"},{name:"fields",type:"object"}]}),"\n",(0,r.jsxs)(n.p,{children:["Update fields of an account. ",(0,r.jsx)(n.code,{children:"fields"})," can specify any field described in ",(0,r.jsx)(n.a,{href:"#account",children:(0,r.jsx)(n.code,{children:"Account"})}),"."]}),"\n",(0,r.jsx)(n.h4,{id:"closeaccount",children:(0,r.jsx)(n.code,{children:"closeAccount"})}),"\n",(0,r.jsx)(d.IT,{name:"closeAccount",args:[{name:"id",type:"id"},{name:"transferAccountId",type:"id?"},{name:"transferCategoryId",type:"id?"}]}),"\n",(0,r.jsxs)(n.p,{children:["Close an account. ",(0,r.jsx)(n.code,{children:"transferAccountId"})," and ",(0,r.jsx)(n.code,{children:"transferCategoryId"})," are optional if the balance of the account is 0, otherwise see next paragraph."]}),"\n",(0,r.jsxs)(n.p,{children:["If the account has a non-zero balance, you need to specify an account with ",(0,r.jsx)(n.code,{children:"transferAccountId"})," to transfer the money into. If you are transferring from an on budget account to an off budget account, you can optionally specify a category with ",(0,r.jsx)(n.code,{children:"transferCategoryId"})," to categorize the transfer transaction."]}),"\n",(0,r.jsx)(n.p,{children:"Transferring money to an off budget account needs a category because money is taken out of the budget, so it needs to come from somewhere."}),"\n",(0,r.jsxs)(n.p,{children:["If you want to simply delete an account, see ",(0,r.jsx)(n.a,{href:"#deleteaccount",children:(0,r.jsx)(n.code,{children:"deleteAccount"})}),"."]}),"\n",(0,r.jsx)(n.h4,{id:"reopenaccount",children:(0,r.jsx)(n.code,{children:"reopenAccount"})}),"\n",(0,r.jsx)(d.IT,{name:"reopenAccount",args:[{name:"id",type:"id"}]}),"\n",(0,r.jsx)(n.p,{children:"Reopen a closed account."}),"\n",(0,r.jsx)(n.h4,{id:"deleteaccount",children:(0,r.jsx)(n.code,{children:"deleteAccount"})}),"\n",(0,r.jsx)(d.IT,{name:"deleteAccount",args:[{name:"id",type:"id"}]}),"\n",(0,r.jsx)(n.p,{children:"Delete an account."}),"\n",(0,r.jsx)(n.h4,{id:"getaccountbalance",children:(0,r.jsx)(n.code,{children:"getAccountBalance"})}),"\n",(0,r.jsx)(d.IT,{name:"getAccountBalance",args:[{name:"id",type:"id"},{name:"cutoff",type:"Date?"}],returns:"Promise<number>"}),"\n",(0,r.jsx)(n.p,{children:"Gets the balance for an account. If a cutoff is given, it gives the account balance as of that date. If no cutoff is given, it uses the current date as the cutoff."}),"\n",(0,r.jsx)(n.h4,{id:"examples-1",children:"Examples"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:'// Create a savings accounts\ncreateAccount({\n  name: "Ally Savings",\n  type: "savings\n})\n'})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"// Get all accounts\n\nlet accounts = await getAccounts();\n"})}),"\n",(0,r.jsx)(n.h2,{id:"categories",children:"Categories"}),"\n",(0,r.jsx)(n.h4,{id:"category",children:"Category"}),"\n",(0,r.jsx)(d.cj,{fields:d.JD.category}),"\n",(0,r.jsx)(n.h4,{id:"methods-2",children:"Methods"}),"\n",(0,r.jsx)(n.h4,{id:"getcategories",children:(0,r.jsx)(n.code,{children:"getCategories"})}),"\n",(0,r.jsx)(d.IT,{name:"getCategories",args:[],returns:"Promise<Category[]>"}),"\n",(0,r.jsx)(n.p,{children:"Get all categories."}),"\n",(0,r.jsx)(n.h4,{id:"createcategory",children:(0,r.jsx)(n.code,{children:"createCategory"})}),"\n",(0,r.jsx)(d.IT,{name:"createCategory",args:[{name:"category",type:"Category"}],returns:"Promise<id>"}),"\n",(0,r.jsxs)(n.p,{children:["Create a category. Returns the ",(0,r.jsx)(n.code,{children:"id"})," of the new category."]}),"\n",(0,r.jsx)(n.h4,{id:"updatecategory",children:(0,r.jsx)(n.code,{children:"updateCategory"})}),"\n",(0,r.jsx)(d.IT,{name:"updateCategory",args:[{name:"id",type:"id"},{name:"fields",type:"object"}],returns:"Promise<null>"}),"\n",(0,r.jsxs)(n.p,{children:["Update fields of a category. ",(0,r.jsx)(n.code,{children:"fields"})," can specify any field described in ",(0,r.jsx)(n.a,{href:"#category",children:(0,r.jsx)(n.code,{children:"Category"})}),"."]}),"\n",(0,r.jsx)(n.h4,{id:"deletecategory",children:(0,r.jsx)(n.code,{children:"deleteCategory"})}),"\n",(0,r.jsx)(d.IT,{name:"deleteCategory",args:[{name:"id",type:"id"}],returns:"Promise<null>"}),"\n",(0,r.jsx)(n.p,{children:"Delete a category."}),"\n",(0,r.jsx)(n.h3,{id:"examples-2",children:"Examples"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:'{\n  name: "Food",\n  group_id: "238d4d38-a512-4e28-9bbe-e96fd5d99251"\n}\n'})}),"\n",(0,r.jsx)(n.h4,{id:"income-categories",children:"Income Categories"}),"\n",(0,r.jsxs)(n.p,{children:["Set ",(0,r.jsx)(n.code,{children:"is_income"})," to ",(0,r.jsx)(n.code,{children:"true"})," to create an income category. The ",(0,r.jsx)(n.code,{children:"group_id"})," of the category should point to the existing income group category (currently only one ever exists, see ",(0,r.jsx)(n.a,{href:"#category-group",children:"category group"}),")."]}),"\n",(0,r.jsx)(n.h2,{id:"category-groups",children:"Category Groups"}),"\n",(0,r.jsx)(n.h4,{id:"category-group",children:"Category Group"}),"\n",(0,r.jsx)(d.cj,{fields:d.JD.categoryGroup}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"{\n  name: 'Bills';\n}\n"})}),"\n",(0,r.jsx)(n.h4,{id:"income-category-groups",children:"Income Category Groups"}),"\n",(0,r.jsx)(n.p,{children:"There should only ever be one income category group,"}),"\n",(0,r.jsx)(n.h4,{id:"methods-3",children:"Methods"}),"\n",(0,r.jsx)(n.h4,{id:"getcategorygroups",children:(0,r.jsx)(n.code,{children:"getCategoryGroups"})}),"\n",(0,r.jsx)(d.IT,{name:"getCategoryGroups",args:[],returns:"Promise<CategoryGroup[]>"}),"\n",(0,r.jsx)(n.p,{children:"Get all category groups."}),"\n",(0,r.jsx)(n.h4,{id:"createcategorygroup",children:(0,r.jsx)(n.code,{children:"createCategoryGroup"})}),"\n",(0,r.jsx)(d.IT,{name:"createCategoryGroup",args:[{name:"group",type:"CategoryGroup"}],returns:"Promise<id>"}),"\n",(0,r.jsxs)(n.p,{children:["Create a category group. Returns the ",(0,r.jsx)(n.code,{children:"id"})," of the new group."]}),"\n",(0,r.jsx)(n.h4,{id:"updatecategorygroup",children:(0,r.jsx)(n.code,{children:"updateCategoryGroup"})}),"\n",(0,r.jsx)(d.IT,{name:"updateCategoryGroup",args:[{name:"id",type:"id"},{name:"fields",type:"object"}],returns:"Promise<id>"}),"\n",(0,r.jsxs)(n.p,{children:["Update fields of a category group. ",(0,r.jsx)(n.code,{children:"fields"})," can specify any field described in ",(0,r.jsx)(n.a,{href:"#categorygroup",children:(0,r.jsx)(n.code,{children:"CategoryGroup"})}),"."]}),"\n",(0,r.jsx)(n.h4,{id:"deletecategorygroup",children:(0,r.jsx)(n.code,{children:"deleteCategoryGroup"})}),"\n",(0,r.jsx)(d.IT,{name:"deleteCategoryGroup",args:[{name:"id",type:"id"}],returns:"Promise<null>"}),"\n",(0,r.jsx)(n.p,{children:"Delete a category group."}),"\n",(0,r.jsx)(n.h2,{id:"payees",children:"Payees"}),"\n",(0,r.jsx)(n.h4,{id:"payee",children:"Payee"}),"\n",(0,r.jsx)(d.cj,{fields:d.JD.payee}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:'{\n  name: "Kroger",\n  category: "a1bccbd1-039e-410a-ba05-a76b97a74fc8"\n}\n'})}),"\n",(0,r.jsx)(n.h4,{id:"transfers-1",children:"Transfers"}),"\n",(0,r.jsx)(n.p,{children:"Transfers use payees to indicate which accounts to transfer money to/from. This lets the system use the same payee matching logic to manage transfers as well."}),"\n",(0,r.jsxs)(n.p,{children:['Each account has a corresponding "transfer payee" already created in the system. If a payee is a transfer payee, it will have the ',(0,r.jsx)(n.code,{children:"transfer_acct"})," field set to an account id. Use this to create transfer transactions with ",(0,r.jsx)(n.a,{href:"#importtransactions",children:(0,r.jsx)(n.code,{children:"importTransactions"})}),"."]}),"\n",(0,r.jsx)(n.h4,{id:"methods-4",children:"Methods"}),"\n",(0,r.jsx)(n.h4,{id:"getpayees",children:(0,r.jsx)(n.code,{children:"getPayees"})}),"\n",(0,r.jsx)(d.IT,{name:"getPayees",args:[],returns:"Promise<Payee[]>"}),"\n",(0,r.jsx)(n.p,{children:"Get all payees."}),"\n",(0,r.jsx)(n.h4,{id:"createpayee",children:(0,r.jsx)(n.code,{children:"createPayee"})}),"\n",(0,r.jsx)(d.IT,{name:"createPayee",args:[{name:"payee",type:"Payee"}],returns:"Promise<id>"}),"\n",(0,r.jsxs)(n.p,{children:["Create a payee. Returns the ",(0,r.jsx)(n.code,{children:"id"})," of the new payee."]}),"\n",(0,r.jsx)(n.h4,{id:"updatepayee",children:(0,r.jsx)(n.code,{children:"updatePayee"})}),"\n",(0,r.jsx)(d.IT,{name:"updatePayee",args:[{name:"id",type:"id"},{name:"fields",type:"object"}],returns:"Promise<id>"}),"\n",(0,r.jsxs)(n.p,{children:["Update fields of a payee. ",(0,r.jsx)(n.code,{children:"fields"})," can specify any field described in ",(0,r.jsx)(n.a,{href:"#payee",children:(0,r.jsx)(n.code,{children:"Payee"})}),"."]}),"\n",(0,r.jsx)(n.h4,{id:"deletepayee",children:(0,r.jsx)(n.code,{children:"deletePayee"})}),"\n",(0,r.jsx)(d.IT,{name:"deletePayee",args:[{name:"id",type:"id"}],returns:"Promise<null>"}),"\n",(0,r.jsx)(n.p,{children:"Delete a payee."}),"\n",(0,r.jsx)(n.h4,{id:"mergepayees",children:(0,r.jsx)(n.code,{children:"mergePayees"})}),"\n",(0,r.jsx)(d.IT,{name:"mergePayees",args:[{name:"targetId",type:"id"},{name:"mergeIds",type:"id[]"}],returns:"Promise<null>"}),"\n",(0,r.jsx)(n.p,{children:"Merge one or more payees into the target payee, retaining the name of the target."}),"\n",(0,r.jsx)(n.h2,{id:"rules",children:"Rules"}),"\n",(0,r.jsx)(n.h4,{id:"conditionoraction",children:"ConditionOrAction"}),"\n",(0,r.jsx)(d.cj,{fields:d.JD.condition}),"\n",(0,r.jsx)(n.h4,{id:"rule",children:"Rule"}),"\n",(0,r.jsx)(d.cj,{fields:d.JD.rule}),"\n",(0,r.jsx)(n.h4,{id:"payee-rule",children:"Payee Rule"}),"\n",(0,r.jsx)(d.cj,{fields:d.JD.payeeRule}),"\n",(0,r.jsx)(n.h4,{id:"methods-5",children:"Methods"}),"\n",(0,r.jsx)(n.h4,{id:"getrules",children:(0,r.jsx)(n.code,{children:"getRules"})}),"\n",(0,r.jsx)(d.IT,{name:"getRules",args:[],returns:"Promise<Rule[]>"}),"\n",(0,r.jsx)(n.p,{children:"Get all rules."}),"\n",(0,r.jsx)(n.h4,{id:"getpayeerules",children:(0,r.jsx)(n.code,{children:"getPayeeRules"})}),"\n",(0,r.jsx)(d.IT,{name:"getPayeeRules",args:[{name:"payeeId",type:"id"}],returns:"Promise<PayeeRule[]>"}),"\n",(0,r.jsxs)(n.p,{children:["Get all payee rules for ",(0,r.jsx)(n.code,{children:"payeeId"}),"."]}),"\n",(0,r.jsx)(n.h4,{id:"createrule",children:(0,r.jsx)(n.code,{children:"createRule"})}),"\n",(0,r.jsx)(d.IT,{name:"createRule",args:[{name:"rule",type:"Rule"}],returns:"Promise<Rule>"}),"\n",(0,r.jsxs)(n.p,{children:["Create a rule. Returns the new rule, including the ",(0,r.jsx)(n.code,{children:"id"}),"."]}),"\n",(0,r.jsx)(n.h4,{id:"updaterule",children:(0,r.jsx)(n.code,{children:"updateRule"})}),"\n",(0,r.jsx)(d.IT,{name:"updateRule",args:[{name:"id",type:"id"},{name:"fields",type:"object"}],returns:"Promise<Rule>"}),"\n",(0,r.jsxs)(n.p,{children:["Update fields of a rule. ",(0,r.jsx)(n.code,{children:"fields"})," can specify any field described in ",(0,r.jsx)(n.a,{href:"#rule",children:(0,r.jsx)(n.code,{children:"Rule"})}),". Returns the updated rule."]}),"\n",(0,r.jsx)(n.h4,{id:"deleterule",children:(0,r.jsx)(n.code,{children:"deleteRule"})}),"\n",(0,r.jsx)(d.IT,{name:"deleteRule",args:[{name:"id",type:"id"}],returns:"Promise<null>"}),"\n",(0,r.jsx)(n.p,{children:"Delete a rule."}),"\n",(0,r.jsx)(n.h4,{id:"examples-3",children:"Examples"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"{\n  stage: 'pre',\n  conditionsOp: 'and',\n  conditions: [\n    {\n      field: 'payee',\n      op: 'is',\n      value: 'test-payee',\n    },\n  ],\n  actions: [\n    {\n      op: 'set',\n      field: 'category',\n      value: 'fc3825fd-b982-4b72-b768-5b30844cf832',\n    },\n  ],\n}\n"})}),"\n",(0,r.jsx)(n.h2,{id:"schedule",children:"Schedule"}),"\n",(0,r.jsx)(n.h4,{id:"schedule-1",children:"Schedule"}),"\n",(0,r.jsx)(d.cj,{fields:d.JD.schedule}),"\n",(0,r.jsx)(n.h4,{id:"recurconfig",children:"RecurConfig"}),"\n",(0,r.jsx)(d.cj,{fields:d.JD.recurConfig}),"\n",(0,r.jsx)(n.h4,{id:"methods-6",children:"Methods"}),"\n",(0,r.jsx)(n.h4,{id:"getschedules",children:(0,r.jsx)(n.code,{children:"getSchedules"})}),"\n",(0,r.jsx)(d.IT,{name:"getSchedules",args:[],returns:"Promise<Schedule[]>"}),"\n",(0,r.jsxs)(n.p,{children:["Get all schedules. Returns an array of ",(0,r.jsx)(n.a,{href:"#schedule",children:(0,r.jsx)(n.code,{children:"Schedule"})})," objects."]}),"\n",(0,r.jsx)(n.h4,{id:"createschedule",children:(0,r.jsx)(n.code,{children:"createSchedule"})}),"\n",(0,r.jsx)(d.IT,{name:"createSchedule",args:[{properties:[{name:"schedule",type:"Schedule"}]}],returns:"Promise<id>"}),"\n",(0,r.jsx)(n.p,{children:"Create schedule based on information filled in the schedule object. Please refer to notes of schedule object for details each field."}),"\n",(0,r.jsx)(n.h4,{id:"updateschedule",children:(0,r.jsx)(n.code,{children:"updateSchedule"})}),"\n",(0,r.jsx)(d.IT,{name:"updateSchedule",args:[{name:"id",type:"id"},{name:"fields",type:"object"}],returns:"Promise<schedule>"}),"\n",(0,r.jsxs)(n.p,{children:["Update fields of a rule. ",(0,r.jsx)(n.code,{children:"fields"})," can specify any field described in ",(0,r.jsx)(n.a,{href:"#Schedule",children:(0,r.jsx)(n.code,{children:"Schedule"})}),". Returns the updated rule."]}),"\n",(0,r.jsx)(n.h4,{id:"deleteschedule",children:(0,r.jsx)(n.code,{children:"deleteSchedule"})}),"\n",(0,r.jsx)(d.IT,{name:"deleteSchedule",args:[{name:"id",type:"id"}],returns:"Promise<null>"}),"\n",(0,r.jsx)(n.h2,{id:"misc",children:"Misc"}),"\n",(0,r.jsx)(n.h4,{id:"budgetfile",children:"BudgetFile"}),"\n",(0,r.jsx)(d.cj,{fields:d.JD.budgetFile}),"\n",(0,r.jsx)(n.h4,{id:"initconfig",children:"InitConfig"}),"\n",(0,r.jsx)(d.cj,{fields:d.JD.initConfig}),"\n",(0,r.jsx)(n.h4,{id:"methods-7",children:"Methods"}),"\n",(0,r.jsx)(n.h4,{id:"init",children:(0,r.jsx)(n.code,{children:"init"})}),"\n",(0,r.jsx)(d.IT,{name:"init",args:[{properties:[{name:"config",type:"InitConfig"}]}],returns:"Promise<void>"}),"\n",(0,r.jsx)(n.p,{children:"Initializes the API by connecting to an Actual Budget server."}),"\n",(0,r.jsx)(n.h4,{id:"shutdown",children:(0,r.jsx)(n.code,{children:"shutdown"})}),"\n",(0,r.jsx)(d.IT,{name:"shutdown",args:[],returns:"Promise<void>"}),"\n",(0,r.jsx)(n.p,{children:"Shuts down the API. This will close any open budget and clean up any resources."}),"\n",(0,r.jsx)(n.h4,{id:"sync",children:(0,r.jsx)(n.code,{children:"sync"})}),"\n",(0,r.jsx)(d.IT,{name:"sync",args:[],returns:"Promise<void>"}),"\n",(0,r.jsx)(n.p,{children:"Synchronizes the locally cached budget files with the server's copy."}),"\n",(0,r.jsx)(n.h4,{id:"runbanksync",children:(0,r.jsx)(n.code,{children:"runBankSync"})}),"\n",(0,r.jsx)(d.IT,{name:"runBankSync",args:[{properties:[{name:"accountId",type:"string"}]}],returns:"Promise<void>"}),"\n",(0,r.jsx)(n.p,{children:"Run the 3rd party (GoCardless, SimpleFIN) bank sync operation. This will download the transactions and insert them into the ledger."}),"\n",(0,r.jsx)(n.h4,{id:"runimport",children:(0,r.jsx)(n.code,{children:"runImport"})}),"\n",(0,r.jsx)(d.IT,{name:"runImport",args:[{properties:[{name:"budgetName",type:"string"},{name:"func",type:"func"}]}],returns:"Promise<void>"}),"\n",(0,r.jsx)(n.p,{children:"Creates a new budget file with the given name, and then runs the custom importer function to populate it with data."}),"\n",(0,r.jsx)(n.h4,{id:"getbudgets",children:(0,r.jsx)(n.code,{children:"getBudgets"})}),"\n",(0,r.jsx)(d.IT,{name:"getBudgets",args:[],returns:"Promise<BudgetFile[]>"}),"\n",(0,r.jsxs)(n.p,{children:["Returns a list of all budget files either locally cached or on the remote server. Remote files have a ",(0,r.jsx)(n.code,{children:"state"})," field and local files have an ",(0,r.jsx)(n.code,{children:"id"})," field."]}),"\n",(0,r.jsx)(n.h4,{id:"loadbudget",children:(0,r.jsx)(n.code,{children:"loadBudget"})}),"\n",(0,r.jsx)(d.IT,{name:"loadBudget",args:[{properties:[{name:"syncId",type:"string"}]}],returns:"Promise<void>"}),"\n",(0,r.jsx)(n.p,{children:"Load a locally cached budget file."}),"\n",(0,r.jsx)(n.h4,{id:"downloadbudget",children:(0,r.jsx)(n.code,{children:"downloadBudget"})}),"\n",(0,r.jsx)(d.IT,{name:"downloadBudget",args:[{properties:[{name:"syncId",type:"string"},{name:"password",type:"string?"}]}],returns:"Promise<void>"}),"\n",(0,r.jsx)(n.p,{children:"Load a budget file. If the file exists locally, it will load from there. Otherwise, it will download the file from the server."}),"\n",(0,r.jsx)(n.h4,{id:"batchbudgetupdates",children:(0,r.jsx)(n.code,{children:"batchBudgetUpdates"})}),"\n",(0,r.jsx)(d.IT,{name:"batchBudgetUpdates",args:[{properties:[{name:"func",type:"func"}]}],returns:"Promise<void>"}),"\n",(0,r.jsx)(n.p,{children:"Performs a batch of budget updates. This is useful for making multiple changes to the budget in a single call to the server."}),"\n",(0,r.jsx)(n.h4,{id:"runquery",children:(0,r.jsx)(n.code,{children:"runQuery"})}),"\n",(0,r.jsx)(d.IT,{name:"runQuery",args:[{properties:[{name:"query",type:"ActualQL"}]}],returns:"Promise<unknown>"}),"\n",(0,r.jsx)(n.p,{children:"Allows running any arbitrary ActualQL query on the open budget."}),"\n",(0,r.jsx)(n.h4,{id:"getidbyname",children:(0,r.jsx)(n.code,{children:"getIDByName"})}),"\n",(0,r.jsx)(d.IT,{name:"getIDByName",args:[{properties:[{name:"type",type:"string"},{name:"string",type:"string"}]}],returns:"Promise<string>"}),"\n",(0,r.jsx)(n.p,{children:"get the ID for any Account, Payee, Category or Schedule by providing the corresponding name. Allowed types are 'accounts', 'schedules', 'categories', 'payees'."}),"\n",(0,r.jsx)(n.h4,{id:"getserverversion",children:(0,r.jsx)(n.code,{children:"getServerVersion"})}),"\n",(0,r.jsx)(d.IT,{name:"getServerVersion",args:[],returns:"Promise<{error?: string;} | {version: string;}>"}),"\n",(0,r.jsx)(n.p,{children:"return error or the current server versions."})]})}function p(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(u,{...e})}):u(e)}},67686:(e,n,t)=>{t.d(n,{Gz:()=>c,IT:()=>p,JD:()=>d,cj:()=>l});var s=t(14041),r=t(31085);const a={id:{name:"id",type:"string",description:(0,r.jsx)("span",{children:(0,r.jsx)("a",{href:"https://en.wikipedia.org/wiki/Universally_unique_identifier",children:"UUID"})})},month:{name:"month",type:"string",description:(0,r.jsx)("code",{children:"YYYY-MM"})},date:{name:"date",type:"string",description:(0,r.jsx)("code",{children:"YYYY-MM-DD"})},amount:{name:"amount",type:"integer",description:(0,r.jsxs)("span",{children:["A currency amount is an integer representing the value without any decimal places. Usually it\u2019s ",(0,r.jsx)("code",{children:"value * 100"}),", but it depends on your currency. For example, a USD amount of ",(0,r.jsx)("code",{children:"$120.30"})," would be ",(0,r.jsx)("code",{children:"12030"}),"."]})}},d={initConfig:[{name:"serverURL",type:"string",description:(0,r.jsx)("span",{children:"The URL of your Actual Budget server."})},{name:"password",type:"string",description:(0,r.jsx)("span",{children:"The password of your Actual Budget server."})},{name:"dataDir",type:"string",description:(0,r.jsx)("span",{children:"The directory to store locally cached budget files."})},{name:"verbose",type:"boolean",description:(0,r.jsx)("span",{children:"Enable/disable logging from actual internals"})}],transaction:[{name:"id",type:a.id},{name:"account",type:a.id,required:!0},{name:"date",type:"date",required:!0},{name:"amount",type:a.amount},{name:"payee",type:a.id,description:(0,r.jsxs)("span",{children:["In a ",(0,r.jsx)("a",{href:"#types-of-methods",children:"create"})," request, this overrides"," ",(0,r.jsx)("code",{children:"payee_name"}),"."]})},{name:"payee_name",type:"string",description:(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"mb-6",children:"If given, a payee will be created with this name. If this matches an already existing payee, that payee will be used."}),"* Only available in a ",(0,r.jsx)("a",{href:"#types-of-methods",children:"create"})," request"]})},{name:"imported_payee",type:"string",description:"This can be anything. Meant to represent the raw description when importing, allowing the user to see the original value."},{name:"category",type:a.id},{name:"notes",type:"string"},{name:"imported_id",type:"string",description:"A unique id usually given by the bank, if importing. Use this to avoid duplicate transactions."},{name:"transfer_id",type:"string",description:(0,r.jsxs)("span",{children:["If a transfer, the ",(0,r.jsx)("code",{children:"id"})," of the corresponding transaction in the other account. See ",(0,r.jsx)("a",{href:"#transfers",children:"transfers"}),"."]})},{name:"cleared",type:"boolean",description:(0,r.jsx)("span",{children:"A flag indicating if the transaction has cleared or not."})},{name:"subtransactions",type:"Transaction[]",description:(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"mb-6",children:["An array of subtransactions for a split transaction. See"," ",(0,r.jsx)("a",{href:"#split-transactions",children:"split transactions"}),"."]}),"* Only available in a ",(0,r.jsx)("a",{href:"#types-of-methods",children:"get"})," or"," ",(0,r.jsx)("a",{href:"#types-of-methods",children:"create"})," request"]})}],account:[{name:"id",type:a.id},{name:"name",type:"string",required:!0},{name:"offbudget",type:"bool",description:(0,r.jsxs)("span",{children:["Defaults to ",(0,r.jsx)("code",{children:"false"})]})},{name:"closed",type:"bool",description:(0,r.jsxs)("span",{children:["Defaults to ",(0,r.jsx)("code",{children:"false"})]})}],category:[{name:"id",type:a.id},{name:"name",type:"string",required:!0},{name:"group_id",type:a.id,required:!0},{name:"is_income",type:"bool",description:(0,r.jsxs)("span",{children:["Defaults to ",(0,r.jsx)("code",{children:"false"})]})}],categoryGroup:[{name:"id",type:a.id},{name:"name",type:"string",required:!0},{name:"is_income",type:"bool",description:(0,r.jsxs)("span",{children:["Defaults to ",(0,r.jsx)("code",{children:"false"})]})},{name:"categories",type:"Category[]",description:(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"mb-6",children:"An array of categories in this group. Not valid when creating or updating a category group"}),"Only available in a ",(0,r.jsx)("code",{children:"get"}),"."]})}],schedule:[{name:"id",type:a.id},{name:"name",type:"string",description:(0,r.jsx)("span",{children:"Not mandatory but schedule names must be unique."})},{name:"rule",type:"string",description:(0,r.jsx)("span",{children:"All schedules have an associated underlying rule. Not to be supplied with a new schedule. It will be auto created. Rules can not updated to another rule. You can however edit the rule with the API above for Rule."})},{name:"next_date",type:"string",description:(0,r.jsx)("span",{children:"Next occurrence of a schedule. Not to be supplied with a new schedule."})},{name:"completed",type:"boolean",description:(0,r.jsx)("span",{children:"Not to be supplied with a new schedule."})},{name:"posts_transaction",type:"boolean",description:(0,r.jsxs)("span",{children:["Whether the schedule should auto-post transactions on your behalf. Defaults to ",(0,r.jsx)("code",{children:"false"}),"."]})},{name:"payee",type:"id | null",description:(0,r.jsxs)("span",{children:["Optional; will default to ",(0,r.jsx)("code",{children:"null"}),"."]})},{name:"account",type:"id | null",description:(0,r.jsxs)("span",{children:["Optional; will default to ",(0,r.jsx)("code",{children:"null"}),"."]})},{name:"amount",type:"number | { num1: number; num2: number }",description:(0,r.jsx)("span",{children:"Provide only one number, except if the amount uses a isbetween in amountOp, in this case num1 and 2 should be provided."})},{name:"amountOp",type:"'is' | 'isapprox' | 'isbetween'",description:(0,r.jsxs)("span",{children:["Controls how ",(0,r.jsx)("code",{children:"amount"})," is interpreted."]})},{name:"date",type:"date | RecurConfig",required:!0,description:(0,r.jsx)("span",{children:"Mandatory field when creating a schedule. If the schedule is a single occurrence just supply the date. otherwise refer to RecurConfig details below."})}],recurConfig:[{name:"frequency",type:"'daily' | 'weekly' | 'monthly' | 'yearly'",required:!0,description:(0,r.jsx)("span",{children:"How often the schedule repeats."})},{name:"interval",type:"number",description:(0,r.jsxs)("span",{children:["The interval at which the recurrence happens. Defaults to"," ",(0,r.jsx)("code",{children:"1"})," if omitted."]})},{name:"patterns",type:"RecurPattern[]",description:(0,r.jsx)("span",{children:"Optional patterns to control specific dates for recurrence (e.g. certain weekdays or month days)."})},{name:"skipWeekend",type:"boolean",description:(0,r.jsx)("span",{children:"If true, skips weekends when calculating recurrence dates."})},{name:"start",type:"string",required:!0,description:(0,r.jsx)("span",{children:"The ISO date string indicating the start date of the recurrence."})},{name:"endMode",type:"'never' | 'after_n_occurrences' | 'on_date'",required:!0,description:(0,r.jsx)("span",{children:"Specifies how the recurrence ends: never ends, after a number of occurrences, or on a specific date."})},{name:"endOccurrences",type:"number",description:(0,r.jsxs)("span",{children:["Used when ",(0,r.jsx)("code",{children:"endMode"})," is ",(0,r.jsx)("code",{children:"'after_n_occurrences'"}),". Indicates how many times it should repeat."]})},{name:"endDate",type:"string",description:(0,r.jsxs)("span",{children:["Used when ",(0,r.jsx)("code",{children:"endMode"})," is ",(0,r.jsx)("code",{children:"'on_date'"}),". The ISO date string indicating when the recurrence should end."]})},{name:"weekendSolveMode",type:"'before' | 'after'",description:(0,r.jsxs)("span",{children:["If a calculated date falls on a weekend and ",(0,r.jsx)("code",{children:"skipWeekend"})," ","is true, this controls whether the date moves to the"," ",(0,r.jsx)("code",{children:"before"})," or ",(0,r.jsx)("code",{children:"after"})," weekday."]})}],payee:[{name:"id",type:a.id},{name:"name",type:"string",required:!0},{name:"category",type:a.id},{name:"transfer_acct",type:a.id,description:(0,r.jsxs)("span",{children:["The ",(0,r.jsx)("code",{children:"id"})," of the account this payee transfers to/from, if this is a transfer payee."]})}],condition:[{name:"field",type:"string",required:!0},{name:"op",type:"string",required:!0},{name:"value",type:"string",required:!0}],rule:[{name:"id",type:a.id},{name:"stage",type:"string",required:!0,description:(0,r.jsxs)("span",{children:["Must be one of ",(0,r.jsx)("code",{children:"pre"}),", ",(0,r.jsx)("code",{children:"default"}),", or"," ",(0,r.jsx)("code",{children:"post"}),"."]})},{name:"conditionsOp",type:"string",description:(0,r.jsxs)("span",{children:["Must be one of ",(0,r.jsx)("code",{children:"and"})," or ",(0,r.jsx)("code",{children:"or"}),"."]})},{name:"conditions",type:"ConditionOrAction[]"},{name:"actions",type:"ConditionOrAction[]"}],payeeRule:[{name:"id",type:a.id},{name:"payee_id",type:a.id,required:!0},{name:"stage",type:"string",required:!0,description:(0,r.jsxs)("span",{children:["Must be one of ",(0,r.jsx)("code",{children:"pre"}),", ",(0,r.jsx)("code",{children:"default"}),", or"," ",(0,r.jsx)("code",{children:"post"}),"."]})},{name:"conditionsOp",type:"string",description:(0,r.jsxs)("span",{children:["Must be one of ",(0,r.jsx)("code",{children:"and"})," or ",(0,r.jsx)("code",{children:"or"}),"."]})},{name:"conditions",type:"ConditionOrAction[]"},{name:"actions",type:"ConditionOrAction[]"}],budgetFile:[{name:"name",type:"string",required:!0,description:(0,r.jsx)("span",{children:"The budget's name."})},{name:"cloudFileId",type:"string",required:!0,description:(0,r.jsx)("span",{children:"The id for the budget on the server. This is usually a UUID."})},{name:"groupId",type:"string",required:!0,description:(0,r.jsx)("span",{children:"The group id for the budget."})},{name:"hasKey",type:"boolean",required:!0,description:(0,r.jsx)("span",{children:"If the file has an encryption key."})},{name:"encryptKeyId",type:"string",description:(0,r.jsx)("span",{children:"The encryption key ID for the file, if it is encrypted."})},{name:"state",type:"string",description:(0,r.jsx)("span",{children:'Remote files have this set to "remote".'})},{name:"id",type:"string",description:(0,r.jsx)("span",{children:"The local budget file's local ID."})}]};function i({style:e,headers:n,className:t,children:s}){return(0,r.jsxs)("table",{className:`text-sm ${t}`,style:e,children:[(0,r.jsx)("thead",{children:(0,r.jsx)("tr",{children:n.map(e=>(0,r.jsx)("th",{className:"text-gray-900 font-thin",children:e},e))})}),(0,r.jsx)("tbody",{className:"border",children:s})]})}function c(){return(0,r.jsx)(i,{headers:["Name","Type","Notes"],style:{maxWidth:700},children:Object.keys(a).map(e=>(0,r.jsx)(o,{name:a[e].name,type:a[e].type,description:a[e].description},e))})}function o({name:e,type:n,description:t}){return(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{valign:"top",children:(0,r.jsx)("code",{children:e})}),(0,r.jsx)("td",{valign:"top",children:(0,r.jsx)("code",{className:"text-gray-600",children:n})}),(0,r.jsx)("td",{children:t})]})}function l({fields:e}){return(0,r.jsx)("div",{className:"struct mt-4 mb-10",children:(0,r.jsx)(i,{className:"mb-0",showBorder:!0,headers:["Field","Type","Required?","Notes"],children:e.map(e=>(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{valign:"top",children:(0,r.jsx)("code",{children:e.name})}),(0,r.jsx)("td",{valign:"top",children:(0,r.jsx)("code",{className:"text-gray-600",children:"string"==typeof e.type?e.type:e.type.name})}),(0,r.jsx)("td",{valign:"top",children:e.required?"yes":"no"}),(0,r.jsx)("td",{children:e.description})]},e.name))})})}function h({arg:e}){return e.properties?(0,r.jsxs)("span",{children:[e.name?e.name+": ":"","{ ",e.properties.map(e=>(0,r.jsx)(h,{arg:e},e.name)).map(u)," }"]}):(0,r.jsxs)("span",{style:{position:"relative"},children:[(0,r.jsx)("span",{className:"text-gray-500",style:{position:"absolute",bottom:-20,fontSize:12},children:e.type}),e.name]})}function u(e,n,t){return n===t.length-1?e:[e,", "]}function p({name:e,args:n,returns:t="Promise<null>",children:a}){return(0,r.jsxs)("p",{className:"method",children:[(0,r.jsx)("div",{className:"p-4 pb-6 rounded border-b bg-gray-100 overflow-auto",children:(0,r.jsxs)("code",{className:"text-blue-800",children:[e,"(",n.map(e=>(0,r.jsx)(h,{arg:e},e.name)).map(u),") ",(0,r.jsxs)("span",{className:"text-gray-500",children:["\u2192 ",t]})]})}),a&&s.cloneElement(a,{})]})}},71184:(e,n,t)=>{t.d(n,{R:()=>d,x:()=>i});var s=t(14041);const r={},a=s.createContext(r);function d(e){const n=s.useContext(a);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:d(e.components),s.createElement(a.Provider,{value:n},e.children)}}}]);