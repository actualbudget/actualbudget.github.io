"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[8828],{29976:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>o,contentTitle:()=>a,default:()=>h,frontMatter:()=>i,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"install/build-from-source","title":"Build from source","description":"Installing Actual by building it from source is a highly technical process. We recommend this approach primarily for contributors.","source":"@site/docs/install/build-from-source.md","sourceDirName":"install","slug":"/install/build-from-source","permalink":"/docs/install/build-from-source","draft":false,"unlisted":false,"editUrl":"https://github.com/actualbudget/actual/tree/master/packages/docs/docs/install/build-from-source.md","tags":[],"version":"current","frontMatter":{},"sidebar":"docs","previous":{"title":"Desktop app","permalink":"/docs/install/desktop-app"},"next":{"title":"PikaPods","permalink":"/docs/install/pikapods"}}');var r=n(31085),l=n(71184);const i={},a="Build from source",o={},c=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Installing Actual",id:"installing-actual",level:2},{value:"Running Actual",id:"running-actual",level:2},{value:"Linux systemd Setup",id:"linux-systemd-setup",level:3},{value:"Accessing Actual",id:"accessing-actual",level:2},{value:"Updating Actual",id:"updating-actual",level:2},{value:"Translations",id:"translations",level:2}];function d(e){const s={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.header,{children:(0,r.jsx)(s.h1,{id:"build-from-source",children:"Build from source"})}),"\n",(0,r.jsxs)(s.admonition,{type:"info",children:[(0,r.jsx)(s.p,{children:"Installing Actual by building it from source is a highly technical process. We recommend this approach primarily for contributors."}),(0,r.jsx)(s.p,{children:"For most cases, we suggest opting for one of the simpler alternatives:"}),(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.a,{href:"/docs/install/pikapods",children:"Pikapods"})}),"\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.a,{href:"/download",children:"Desktop Client"})}),"\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.a,{href:"/docs/install/cli-tool",children:"CLI tool"})}),"\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.a,{href:"/docs/install/docker",children:"Docker"})}),"\n"]})]}),"\n",(0,r.jsxs)(s.p,{children:["Actual server is used for syncing changes across devices. It comes with the latest version of the ",(0,r.jsx)(s.a,{href:"https://github.com/actualbudget/actual",children:"Actual web client"}),"."]}),"\n",(0,r.jsx)(s.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:["The Actual server requires Node.js v22 or greater. You can download and install the latest version of Node.js from ",(0,r.jsx)(s.a,{href:"https://nodejs.org/en/download",children:"Node.js website"}),' (we recommend downloading the "LTS" version).']}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["If you're on Windows, during installation of Node.js, be sure to select ",(0,r.jsx)(s.em,{children:"Automatically install the necessary tools"})," from the ",(0,r.jsx)(s.em,{children:"Tools for Native Modules"})," page. This is required to build better-sqlite3. If you missed this when you installed Node.js, double-click ",(0,r.jsx)(s.code,{children:"C:\\Program Files\\nodejs\\install_tools.bat"})," from the File Explorer or run it in a terminal."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:["Consider using a tool like ",(0,r.jsx)(s.a,{href:"https://github.com/nvm-sh/nvm",children:"nvm"})," or ",(0,r.jsx)(s.a,{href:"https://asdf-vm.com",children:"asdf"})," to install and manage multiple versions of Node.js."]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:["You'll also need to have Git installed. For Windows users, you'll also need Git Bash. The Git website has ",(0,r.jsx)(s.a,{href:"https://git-scm.com/download",children:"instructions for downloading and working with Git for all supported operating systems"}),"."]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:["Actual uses yarn packages. You can install ",(0,r.jsx)(s.a,{href:"https://yarnpkg.com/getting-started/install",children:"yarn"})," using the following command:"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"npm install --global yarn\n"})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"installing-actual",children:"Installing Actual"}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsxs)(s.li,{children:["After the prerequisites are fulfilled, open bash and clone the ",(0,r.jsx)(s.a,{href:"https://github.com/actualbudget/actual",children:"Actual"})," project in your project root directory where you want to install Actual."]}),"\n"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"git clone https://github.com/actualbudget/actual.git\n"})}),"\n",(0,r.jsxs)(s.ol,{start:"2",children:["\n",(0,r.jsxs)(s.li,{children:["Navigate to the Actual in your project root directory.","\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"cd actual\n"})}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["Install all the required dependencies using yarn.","\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"yarn install\n"})}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["Build the server with","\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"yarn build:server\n"})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"running-actual",children:"Running Actual"}),"\n",(0,r.jsx)(s.p,{children:"After the Actual is installed and built, start the Actual server by running the following command:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"yarn start:server\n"})}),"\n",(0,r.jsx)(s.p,{children:"Note that if you restart your computer, you'll have to run this command again to start the server."}),"\n",(0,r.jsx)(s.h3,{id:"linux-systemd-setup",children:"Linux systemd Setup"}),"\n",(0,r.jsx)(s.p,{children:"On Linux systems you can configure a systemd unit file to have Actual run on system startup. This needs to be done as the root user (open a root terminal session or preface each command with sudo to run the commands below)"}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsxs)(s.li,{children:["Create the file /etc/systemd/service/actual-server.service with the contents below using your text editor of choice (ex. ",(0,r.jsx)(s.code,{children:"vi /etc/systemd/service/actual-server.service"}),"). Note the WorkingDirectory= parameter needs to be set to your Actual install folder"]}),"\n"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{children:"[Unit]\nDescription=Actual-Server (https://actualbudget.org)\nAfter=network.target\n\n[Service]\nWorkingDirectory=[Link to your actual-server install directory, ex. /var/www/html/actual]\nExecStart=/usr/bin/yarn start:server\nRestart=on-watchdog\n\n[Install]\nWantedBy=multi-user.target\n"})}),"\n",(0,r.jsxs)(s.ol,{start:"2",children:["\n",(0,r.jsxs)(s.li,{children:["Have systemd rescan for the unit file you created -> ",(0,r.jsx)(s.code,{children:"systemctl daemon-reload"})]}),"\n",(0,r.jsxs)(s.li,{children:["Install and start the systemd unit file -> ",(0,r.jsx)(s.code,{children:"systemctl enable --now /etc/systemd/system/multi-user.target.wants/actual-server.service"})]}),"\n",(0,r.jsxs)(s.li,{children:["Confirm that the Actual server is running -> ",(0,r.jsx)(s.code,{children:"systemctl status actual-server"})]}),"\n"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{children:"root@server:/etc/systemd/system# systemctl status actual-server\n\u25cf actual-server.service - Actual-Server (https://actualbudget.org)\n     Loaded: loaded (/lib/systemd/system/actual-server.service; enabled; vendor pres>\n     Active: active (running) since Mon 2024-11-18 14:58:29 EST; 23h ago\n   Main PID: 842857 (node)\n      Tasks: 33 (limit: 38316)\n     Memory: 45.9M\n        CPU: 1.995s\n     CGroup: /system.slice/actual-server.service\n             \u251c\u2500842857 node /usr/bin/yarn start:server\n             \u251c\u2500842870 /usr/bin/node /var/www/html/actual-server/.yarn/releases/yarn->\n             \u2514\u2500842881 /usr/bin/node app\n"})}),"\n",(0,r.jsxs)(s.ol,{start:"5",children:["\n",(0,r.jsxs)(s.li,{children:['You should see output similar to above. The main thing to check for is the "Active: active (running)" section. From here you can consider ',(0,r.jsx)(s.a,{href:"https://actualbudget.org/docs/config/reverse-proxies",children:"Setting up a Reverse Proxy"})," and ",(0,r.jsx)(s.a,{href:"https://actualbudget.org/docs/config/https",children:"Activating HTTPS"})]}),"\n",(0,r.jsxs)(s.li,{children:["To stop / start / restart the server use the commands","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.code,{children:"systemctl stop actual-server"})}),"\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.code,{children:"systemctl start actual-server"})}),"\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.code,{children:"systemctl restart actual-server"})}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["To see the system log showing status or errors use the command from before. This can be helpful for troubleshooting.","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.code,{children:"systemctl status actual-server"})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"accessing-actual",children:"Accessing Actual"}),"\n",(0,r.jsxs)(s.p,{children:["After the server has been started, you can access Actual using your browser at ",(0,r.jsx)(s.a,{href:"http://localhost:5006",children:"http://localhost:5006"}),"."]}),"\n",(0,r.jsxs)(s.p,{children:["When accessing Actual for the first time, you may be prompted to provide a URL for the server. For a local installation, click the ",(0,r.jsx)(s.strong,{children:"Use localhost:5006"})," button to use the server you've ",(0,r.jsx)(s.a,{href:"https://actualbudget.org/docs/config/",children:"configured"}),"."]}),"\n",(0,r.jsx)(s.h2,{id:"updating-actual",children:"Updating Actual"}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsxs)(s.li,{children:["Stop the server if it's running. You can use the keyboard shortcut ",(0,r.jsx)("kbd",{children:"CTRL-C"})," (even on macOS) to stop the server or close the terminal window it's running from."]}),"\n",(0,r.jsxs)(s.li,{children:["In Bash, run ",(0,r.jsx)(s.code,{children:"git pull"})," from the directory you cloned the project into. This will download the latest code."]}),"\n",(0,r.jsxs)(s.li,{children:["Run ",(0,r.jsx)(s.code,{children:"yarn install"})," from that directory. This will download any updated dependencies."]}),"\n",(0,r.jsxs)(s.li,{children:["Run ",(0,r.jsx)(s.code,{children:"yarn build:server"})," to build the server from the latest code."]}),"\n",(0,r.jsxs)(s.li,{children:["Restart the server by running ",(0,r.jsx)(s.code,{children:"yarn start:server"}),"."]}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:["Actual is constantly evolving to include new features and improve the user's experience. It is always recommended that your local installation be updated with our ",(0,r.jsx)(s.a,{href:"https://actualbudget.org/docs/releases",children:"latest releases"}),"."]}),"\n",(0,r.jsx)(s.h2,{id:"translations",children:"Translations"}),"\n",(0,r.jsx)(s.p,{children:"If you would like to use Actual in a language other than English, additional setup is needed. Run the following commands in order."}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsxs)(s.li,{children:["Navigate to the Actual in your project root directory, and the ",(0,r.jsx)(s.code,{children:"packages/desktop-client"})," directory inside that.","\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"cd actual  # project root\ncd packages/desktop-client\n"})}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["Clone the separate translations repository.","\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"git clone https://github.com/actualbudget/translations locale\n"})}),"\n"]}),"\n"]})]})}function h(e={}){const{wrapper:s}={...(0,l.R)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},71184:(e,s,n)=>{n.d(s,{R:()=>i,x:()=>a});var t=n(14041);const r={},l=t.createContext(r);function i(e){const s=t.useContext(l);return t.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function a(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),t.createElement(l.Provider,{value:s},e.children)}}}]);