"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[2292],{49707:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>d,contentTitle:()=>t,default:()=>u,frontMatter:()=>o,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"contributing/troubleshooting","title":"Troubleshooting","description":"This guide helps you resolve common issues when developing for Actual.","source":"@site/docs/contributing/troubleshooting.md","sourceDirName":"contributing","slug":"/contributing/troubleshooting","permalink":"/docs/contributing/troubleshooting","draft":false,"unlisted":false,"editUrl":"https://github.com/actualbudget/actual/tree/master/packages/docs/docs/contributing/troubleshooting.md","tags":[],"version":"current","frontMatter":{"title":"Troubleshooting"},"sidebar":"docs","previous":{"title":"Code Style and Conventions","permalink":"/docs/contributing/code-style"},"next":{"title":"Internationalization","permalink":"/docs/contributing/i18n"}}');var r=n(31085),l=n(71184);const o={title:"Troubleshooting"},t=void 0,d={},c=[{value:"Type Errors",id:"type-errors",level:2},{value:"Issue: TypeScript compilation errors",id:"issue-typescript-compilation-errors",level:3},{value:"Issue: Cannot find module or type definitions",id:"issue-cannot-find-module-or-type-definitions",level:3},{value:"Linter Errors",id:"linter-errors",level:2},{value:"Issue: ESLint or Prettier errors",id:"issue-eslint-or-prettier-errors",level:3},{value:"Test Failures",id:"test-failures",level:2},{value:"Issue: Tests fail unexpectedly",id:"issue-tests-fail-unexpectedly",level:3},{value:"Issue: E2E tests fail",id:"issue-e2e-tests-fail",level:3},{value:"Import Resolution Issues",id:"import-resolution-issues",level:2},{value:"Issue: Platform-specific import errors",id:"issue-platform-specific-import-errors",level:3},{value:"Build Failures",id:"build-failures",level:2},{value:"Issue: Build fails with errors",id:"issue-build-fails-with-errors",level:3},{value:"Issue: Native module build failures (better-sqlite3)",id:"issue-native-module-build-failures-better-sqlite3",level:3},{value:"Development Server Issues",id:"development-server-issues",level:2},{value:"Issue: Development server won&#39;t start",id:"issue-development-server-wont-start",level:3},{value:"Issue: Hot reload not working",id:"issue-hot-reload-not-working",level:3},{value:"Workspace Command Issues",id:"workspace-command-issues",level:2},{value:"Issue: Workspace command not found",id:"issue-workspace-command-not-found",level:3},{value:"Git Issues",id:"git-issues",level:2},{value:"Issue: Pre-commit hooks failing",id:"issue-pre-commit-hooks-failing",level:3},{value:"Environment Issues",id:"environment-issues",level:2},{value:"Issue: Wrong Node.js or Yarn version",id:"issue-wrong-nodejs-or-yarn-version",level:3},{value:"Getting Help",id:"getting-help",level:2}];function a(e){const s={a:"a",code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.p,{children:"This guide helps you resolve common issues when developing for Actual."}),"\n",(0,r.jsx)(s.h2,{id:"type-errors",children:"Type Errors"}),"\n",(0,r.jsx)(s.h3,{id:"issue-typescript-compilation-errors",children:"Issue: TypeScript compilation errors"}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"Solution:"})}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsxs)(s.li,{children:["Run ",(0,r.jsx)(s.code,{children:"yarn typecheck"})," to see all type errors"]}),"\n",(0,r.jsx)(s.li,{children:"Check if types are imported correctly"}),"\n",(0,r.jsxs)(s.li,{children:["Look for existing type definitions in ",(0,r.jsx)(s.code,{children:"packages/loot-core/src/types/"})]}),"\n",(0,r.jsxs)(s.li,{children:["Use ",(0,r.jsx)(s.code,{children:"satisfies"})," instead of ",(0,r.jsx)(s.code,{children:"as"})," for type narrowing"]}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"issue-cannot-find-module-or-type-definitions",children:"Issue: Cannot find module or type definitions"}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"Solution:"})}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsxs)(s.li,{children:["Check ",(0,r.jsx)(s.code,{children:"tsconfig.json"})," for path mappings"]}),"\n",(0,r.jsx)(s.li,{children:"Ensure you're using the correct import path for the package"}),"\n",(0,r.jsxs)(s.li,{children:["Run ",(0,r.jsx)(s.code,{children:"yarn install"})," to ensure all dependencies are installed"]}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"linter-errors",children:"Linter Errors"}),"\n",(0,r.jsx)(s.h3,{id:"issue-eslint-or-prettier-errors",children:"Issue: ESLint or Prettier errors"}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"Solution:"})}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsxs)(s.li,{children:["Run ",(0,r.jsx)(s.code,{children:"yarn lint:fix"})," to auto-fix many issues"]}),"\n",(0,r.jsx)(s.li,{children:"Check ESLint output for specific rule violations and fix them"}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"test-failures",children:"Test Failures"}),"\n",(0,r.jsx)(s.h3,{id:"issue-tests-fail-unexpectedly",children:"Issue: Tests fail unexpectedly"}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"Solution:"})}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsx)(s.li,{children:"Check if test is running in correct environment (node vs web)"}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Lage cache issues"}),": Clear cache with ",(0,r.jsx)(s.code,{children:"rm -rf .lage"})," if tests behave unexpectedly"]}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"issue-e2e-tests-fail",children:"Issue: E2E tests fail"}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"Solution:"})}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsxs)(s.li,{children:["Ensure Playwright browsers are installed: ",(0,r.jsx)(s.code,{children:"yarn workspace @actual-app/web run playwright install"})]}),"\n",(0,r.jsxs)(s.li,{children:["Run tests with headed browser for debugging: ",(0,r.jsx)(s.code,{children:"yarn workspace @actual-app/web run playwright test --headed --debug"})]}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"import-resolution-issues",children:"Import Resolution Issues"}),"\n",(0,r.jsx)(s.h3,{id:"issue-platform-specific-import-errors",children:"Issue: Platform-specific import errors"}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"Solution:"})}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Don't directly reference platform-specific imports (",(0,r.jsx)(s.code,{children:".api"}),", ",(0,r.jsx)(s.code,{children:".web"}),", ",(0,r.jsx)(s.code,{children:".electron"}),")"]}),"\n",(0,r.jsxs)(s.li,{children:["Use conditional exports in ",(0,r.jsx)(s.code,{children:"loot-core"})," for platform-specific code"]}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"build-failures",children:"Build Failures"}),"\n",(0,r.jsx)(s.h3,{id:"issue-build-fails-with-errors",children:"Issue: Build fails with errors"}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"Solution:"})}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsxs)(s.li,{children:["Clean build artifacts:","\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"rm -rf packages/*/dist packages/*/lib-dist packages/*/build\n"})}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["Reinstall dependencies:","\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"yarn install\n"})}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["Check Node.js version (requires >=22):","\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"node --version\n"})}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["Check Yarn version (requires ^4.9.1):","\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"yarn --version\n"})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"issue-native-module-build-failures-better-sqlite3",children:"Issue: Native module build failures (better-sqlite3)"}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"Solution:"})}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsx)(s.li,{children:'On Windows: Ensure you selected "Automatically install the necessary tools" during Node.js installation'}),"\n",(0,r.jsxs)(s.li,{children:["Run ",(0,r.jsx)(s.code,{children:"yarn rebuild-electron"})," for Electron builds"]}),"\n",(0,r.jsxs)(s.li,{children:["Run ",(0,r.jsx)(s.code,{children:"yarn workspace loot-core rebuild"})," for Node.js builds"]}),"\n",(0,r.jsx)(s.li,{children:"Ensure you have the necessary build tools installed (Python, Visual Studio Build Tools on Windows)"}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"development-server-issues",children:"Development Server Issues"}),"\n",(0,r.jsx)(s.h3,{id:"issue-development-server-wont-start",children:"Issue: Development server won't start"}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"Solution:"})}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsx)(s.li,{children:"Check if port is already in use"}),"\n",(0,r.jsxs)(s.li,{children:["Ensure all dependencies are installed: ",(0,r.jsx)(s.code,{children:"yarn install"})]}),"\n",(0,r.jsxs)(s.li,{children:["Try clearing node_modules and reinstalling:","\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-bash",children:"rm -rf node_modules packages/**/node_modules\nyarn install\n"})}),"\n"]}),"\n",(0,r.jsx)(s.li,{children:"Check for error messages in the console"}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"issue-hot-reload-not-working",children:"Issue: Hot reload not working"}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"Solution:"})}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsx)(s.li,{children:"Ensure you're running the correct development command"}),"\n",(0,r.jsx)(s.li,{children:"Check if file watchers are working (may be limited on some systems)"}),"\n",(0,r.jsx)(s.li,{children:"Try restarting the development server"}),"\n",(0,r.jsx)(s.li,{children:"Check for file system permission issues"}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"workspace-command-issues",children:"Workspace Command Issues"}),"\n",(0,r.jsx)(s.h3,{id:"issue-workspace-command-not-found",children:"Issue: Workspace command not found"}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"Solution:"})}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsx)(s.li,{children:"Ensure you're running commands from the root directory"}),"\n",(0,r.jsxs)(s.li,{children:["Verify workspace name is correct: ",(0,r.jsx)(s.code,{children:"yarn workspaces list"})]}),"\n",(0,r.jsx)(s.li,{children:"Check package.json for available scripts"}),"\n",(0,r.jsxs)(s.li,{children:["Use correct workspace alias (e.g., ",(0,r.jsx)(s.code,{children:"@actual-app/web"})," instead of ",(0,r.jsx)(s.code,{children:"desktop-client"}),")"]}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"git-issues",children:"Git Issues"}),"\n",(0,r.jsx)(s.h3,{id:"issue-pre-commit-hooks-failing",children:"Issue: Pre-commit hooks failing"}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"Solution:"})}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsxs)(s.li,{children:["Ensure Husky is set up: ",(0,r.jsx)(s.code,{children:"yarn prepare"})]}),"\n",(0,r.jsxs)(s.li,{children:["Run linting manually: ",(0,r.jsx)(s.code,{children:"yarn lint:fix"})]}),"\n",(0,r.jsxs)(s.li,{children:["Run type checking: ",(0,r.jsx)(s.code,{children:"yarn typecheck"})]}),"\n",(0,r.jsx)(s.li,{children:"Fix any errors before committing"}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"environment-issues",children:"Environment Issues"}),"\n",(0,r.jsx)(s.h3,{id:"issue-wrong-nodejs-or-yarn-version",children:"Issue: Wrong Node.js or Yarn version"}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"Solution:"})}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsxs)(s.li,{children:["Check required versions in ",(0,r.jsx)(s.code,{children:"package.json"}),":","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Node.js: >=22"}),"\n",(0,r.jsx)(s.li,{children:"Yarn: ^4.9.1"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["Use a version manager:","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.a,{href:"https://github.com/nvm-sh/nvm",children:"nvm"})," for Node.js"]}),"\n",(0,r.jsxs)(s.li,{children:["Yarn version is managed by the ",(0,r.jsx)(s.code,{children:"packageManager"})," field"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.li,{children:"Update your environment to match requirements"}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"getting-help",children:"Getting Help"}),"\n",(0,r.jsx)(s.p,{children:"If you're still experiencing issues:"}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsxs)(s.li,{children:["Check the ",(0,r.jsx)(s.a,{href:"/docs/contributing/development-setup",children:"Development Setup Guide"})," for setup instructions"]}),"\n",(0,r.jsxs)(s.li,{children:["Review the ",(0,r.jsx)(s.a,{href:"/docs/contributing/testing",children:"Testing Guide"})," for test-related issues"]}),"\n",(0,r.jsxs)(s.li,{children:["Check the ",(0,r.jsx)(s.a,{href:"/docs/contributing/code-style",children:"Code Style Guide"})," for code-related issues"]}),"\n",(0,r.jsxs)(s.li,{children:["Ask for help in the ",(0,r.jsx)(s.a,{href:"https://discord.gg/pRYNYr4W5A",children:"Discord community"})]}),"\n",(0,r.jsxs)(s.li,{children:["Search or create an issue on ",(0,r.jsx)(s.a,{href:"https://github.com/actualbudget/actual/issues",children:"GitHub"})]}),"\n"]})]})}function u(e={}){const{wrapper:s}={...(0,l.R)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}},71184:(e,s,n)=>{n.d(s,{R:()=>o,x:()=>t});var i=n(14041);const r={},l=i.createContext(r);function o(e){const s=i.useContext(l);return i.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function t(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),i.createElement(l.Provider,{value:s},e.children)}}}]);