"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[2357],{2226:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/fly-dash-5c79ef4cc0a17d5c6fcf52b81d35f21d.png"},3073:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/macos-install-5@2x-992b54e8f7a67ef075c0338d888fc85e.png"},5852:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/actual-config-2@2x-f579d83454a47dc5845461861a4f40a7.png"},7071:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>r,contentTitle:()=>a,default:()=>h,frontMatter:()=>l,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"install/fly","title":"Fly.io","description":"In order to deploy Actual to Fly.io, you\u2019ll need to use their command line interface from a terminal program. If you\u2019ve never used a terminal before, don\u2019t worry! We\u2019ll walk you through every step of the process.","source":"@site/docs/install/fly.md","sourceDirName":"install","slug":"/install/fly","permalink":"/docs/install/fly","draft":false,"unlisted":false,"editUrl":"https://github.com/actualbudget/actual/tree/master/packages/docs/docs/install/fly.md","tags":[],"version":"current","frontMatter":{"title":"Fly.io"},"sidebar":"docs","previous":{"title":"PikaPods","permalink":"/docs/install/pikapods"},"next":{"title":"Configuring the Server","permalink":"/docs/config/"}}');var o=t(31085),s=t(71184);const l={title:"Fly.io"},a=void 0,r={},c=[{value:"Setup",id:"setup",level:2},{value:"Creating a Fly.io Account",id:"creating-a-flyio-account",level:3},{value:"Accessing the <code>fly</code> command line tool",id:"accessing-the-fly-command-line-tool",level:3},{value:"Logging into Fly.io",id:"logging-into-flyio",level:3},{value:"Configuring the app",id:"configuring-the-app",level:2},{value:"Local terminal",id:"local-terminal",level:3},{value:"Deploying the app",id:"deploying-the-app",level:2},{value:"Configuring Actual",id:"configuring-actual",level:2},{value:"Updating Actual",id:"updating-actual",level:2},{value:"Local terminal",id:"local-terminal-1",level:3},{value:"Cost Optimizations",id:"cost-optimizations",level:2},{value:"Frequent Issues",id:"frequent-issues",level:2}];function d(e){const n={a:"a",code:"code",em:"em",h2:"h2",h3:"h3",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components},{Details:i}=n;return i||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.p,{children:"In order to deploy Actual to Fly.io, you\u2019ll need to use their command line interface from a terminal program. If you\u2019ve never used a terminal before, don\u2019t worry! We\u2019ll walk you through every step of the process."}),"\n",(0,o.jsx)(n.h2,{id:"setup",children:"Setup"}),"\n",(0,o.jsx)(n.h3,{id:"creating-a-flyio-account",children:"Creating a Fly.io Account"}),"\n",(0,o.jsxs)(n.p,{children:['Fly.io has a "pay as you go" plan for new users with no monthly fee, with actual usage billed monthly. Paid plans start at $5/month and include a limited amount of free compute. See ',(0,o.jsx)(n.a,{href:"https://fly.io/docs/about/pricing/",children:"Pricing Details"})," for more information."]}),"\n",(0,o.jsxs)(n.p,{children:["To begin, you\u2019ll need to sign up for an account. Go to ",(0,o.jsx)(n.a,{href:"https://fly.io",children:"Fly.io"})," and click \u201cGet Started,\u201d then fill in\nthe form. Note that Fly requires you to provide credit card details for sign up. See ",(0,o.jsx)(n.a,{href:"https://fly.io/docs/about/credit-cards/",children:"their docs on how they use credit cards"})," for more information."]}),"\n",(0,o.jsxs)(n.h3,{id:"accessing-the-fly-command-line-tool",children:["Accessing the ",(0,o.jsx)(n.code,{children:"fly"})," command line tool"]}),"\n",(0,o.jsxs)(n.p,{children:["To install the ",(0,o.jsx)(n.code,{children:"fly"})," command line tool on your local machine, you\u2019ll need to start by opening a command line terminal on your computer."]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Windows"}),": Open the Start menu and search for \u201cPowerShell.\u201d Click on the \u201cPowerShell\u201d app to open it."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"macOS"}),": Open the \u201cTerminal\u201d app from the Utilities folder in your Applications folder."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Linux"}),": Open your terminal app of choice."]}),"\n"]}),"\n",(0,o.jsxs)(n.p,{children:["Next, follow ",(0,o.jsxs)(n.a,{href:"https://fly.io/docs/hands-on/install-flyctl/",children:["the instructions to install the ",(0,o.jsx)(n.code,{children:"fly"})," command line tool"]}),". When entering the commands, make sure ",(0,o.jsx)(n.em,{children:"not"})," to include the ",(0,o.jsx)(n.code,{children:"$"})," character at the beginning of each line."]}),"\n",(0,o.jsxs)(i,{children:[(0,o.jsx)("summary",{children:"Detailed instructions with screenshots for Windows"}),(0,o.jsx)(n.p,{children:"Note: the exact commands you\u2019ll need to run may have changed, check the website linked above to make sure you have the latest ones."}),(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"Open up PowerShell on your local machine and paste the following command into the window:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-powershell",children:"iwr https://fly.io/install.ps1 -useb | iex\n"})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{src:t(35043).A+"",width:"867",height:"477"})}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"Flyctl should start installing"}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{src:t(98184).A+"",width:"868",height:"481"})}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:["Once done you should get a message saying ",(0,o.jsx)(n.code,{children:"Run flyctl --help to get started"}),":"]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{src:t(92049).A+"",width:"865",height:"478"})}),"\n"]}),"\n"]})]}),"\n",(0,o.jsxs)(i,{children:[(0,o.jsx)("summary",{children:"Detailed instructions with screenshots for macOS"}),(0,o.jsx)(n.p,{children:"Note: the exact commands you\u2019ll need to run may have changed, check the website linked above to make sure you have the latest ones."}),(0,o.jsxs)(n.p,{children:["Additionally, you might get an error such as ",(0,o.jsx)(n.code,{children:"command not found: fly"})," when you try to use the ",(0,o.jsx)(n.code,{children:"fly"})," command later. If that happens, you\u2019ll need to change the ",(0,o.jsx)(n.code,{children:"fly"})," part of the command to ",(0,o.jsx)(n.code,{children:"~/.fly/bin/fly"})," instead."]}),(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"In the Finder, choose \u201cGo \u2192 Utilities\u201d from the menu bar."}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{src:t(85045).A+"",width:"1618",height:"1094"})}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"Scroll down in the list until you find \u201cTerminal.\u201d Double-click on it to open it."}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{src:t(25208).A+"",width:"2064",height:"1290"})}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:["A window should pop up that will look a bit like this. Note that some of the text may be different, or you may see the last line ending with a ",(0,o.jsx)(n.code,{children:"$"})," instead of a ",(0,o.jsx)(n.code,{children:"%"}),". Both of those are normal."]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{src:t(30747).A+"",width:"1364",height:"966"})}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:["Type or paste the following command to start the install. Make sure you press the ",(0,o.jsx)(n.code,{children:"Enter"})," key on your keyboard after you\u2019ve typed it in."]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:" curl -L https://fly.io/install.sh | sh\n"})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{src:t(23678).A+"",width:"1364",height:"966"})}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"Once that has finished, you should see something like this:"}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{src:t(3073).A+"",width:"1364",height:"966"})}),"\n"]}),"\n"]})]}),"\n",(0,o.jsx)(n.h3,{id:"logging-into-flyio",children:"Logging into Fly.io"}),"\n",(0,o.jsxs)(n.p,{children:["Type ",(0,o.jsx)(n.code,{children:"fly auth login"})," and press enter to open your browser and log your terminal into Fly.io."]}),"\n",(0,o.jsx)(n.h2,{id:"configuring-the-app",children:"Configuring the app"}),"\n",(0,o.jsx)(n.p,{children:"Now that you\u2019ve gotten the CLI set up, you\u2019re ready to deploy your app to Fly.io. First, you\u2019ll need our template Fly configuration:"}),"\n",(0,o.jsx)(n.h3,{id:"local-terminal",children:"Local terminal"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsx)(n.li,{children:"Create a new folder somewhere on your computer. You can call it whatever you want."}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsxs)("a",{rel:"download",target:"_top",href:"/fly.toml",children:["Download the template ",(0,o.jsx)("code",{children:"fly.toml"})," file by clicking here"]})," and move it into the folder you just created."]}),"\n",(0,o.jsxs)(n.li,{children:["Switch back to your terminal and navigate to the folder you just created.","\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"On macOS, drag the folder from Finder to Terminal and hold the command key when dropping it into the terminal window."}),"\n",(0,o.jsxs)(n.li,{children:["On Windows, type ",(0,o.jsx)(n.code,{children:"cd"}),", followed by a space, and then enter the full path (e.g. starting with ",(0,o.jsx)(n.code,{children:"C:\\"}),") to the folder you created. You can find the path in Explorer."]}),"\n",(0,o.jsxs)(n.li,{children:["On Linux, use the ",(0,o.jsx)(n.code,{children:"cd"})," command."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"deploying-the-app",children:"Deploying the app"}),"\n",(0,o.jsx)(n.p,{children:"Now that you\u2019ve got the configuration file set up, you\u2019re ready to deploy your app to Fly.io. To do so, run the following commands. Wait for each command to finish before running the next one."}),"\n",(0,o.jsx)(n.p,{children:"First, tell Fly about Actual:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"fly launch --image actualbudget/actual-server:latest\n"})}),"\n",(0,o.jsx)(n.p,{children:"This command will ask a series of questions:"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:["\u201c",(0,o.jsx)(n.em,{children:"An existing fly.toml file was found. Would you like to copy its configuration to the new app? y/N"}),"\u201d Type ",(0,o.jsx)(n.code,{children:"y"})," and press enter to use the config file we\u2019ve provided."]}),"\n",(0,o.jsxs)(n.li,{children:["\u201c",(0,o.jsx)(n.em,{children:"Do you want to tweak these settings before proceeding? y/N"}),"\u201d If you choose ",(0,o.jsx)(n.code,{children:"y"}),", the web configuration UI will open in your browser."]}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"You can now visit your very own instance of Actual by opening the link on the last line of the output."}),"\n",(0,o.jsx)(n.h2,{id:"configuring-actual",children:"Configuring Actual"}),"\n",(0,o.jsx)(n.p,{children:"Now that Actual has been launched, you should be able to navigate to Actual using the URL\nprovided by the Fly command above earlier."}),"\n",(0,o.jsxs)(i,{children:[(0,o.jsx)("summary",{children:"Forgot the URL? Here\u2019s how to find it"}),(0,o.jsxs)(n.p,{children:["If you forget the URL, you can always find it by opening ",(0,o.jsx)(n.a,{href:"https://fly.io/dashboard",children:"https://fly.io/dashboard"})," in a browser. Click on the application you created:"]}),(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{src:t(2226).A+"",width:"1424",height:"206"})}),(0,o.jsx)(n.p,{children:"Once you are in there, you should see Hostname section under Application Information - click the\nlink"}),(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{src:t(63419).A+"",width:"1842",height:"512"})}),(0,o.jsx)(n.p,{children:"This will now open Actual so we can start configuring it."})]}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"Set a password - remember this, you will need it in the future."}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{src:t(71769).A+"",width:"1032",height:"852"})}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:["You\u2019ll see a welcome screen. Either click \u201cImport my budget\u201d to ",(0,o.jsx)(n.a,{href:"/docs/migration/",children:"import your budget from YNAB or the subscription version of Actual"}),", or click \u201cStart fresh\u201d to create a blank budget file."]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{src:t(5852).A+"",width:"1086",height:"844"})}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"If everything went well you should then be taken to your very first budget."}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{src:t(64820).A+"",width:"1916",height:"782"})}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(n.p,{children:["Actual is now up and running. Congratulations! Consider checking out ",(0,o.jsx)(n.a,{href:"/docs/tour/",children:"our tour"})," next."]}),"\n",(0,o.jsx)(n.h2,{id:"updating-actual",children:"Updating Actual"}),"\n",(0,o.jsx)(n.p,{children:"When updates to Actual are released, you\u2019ll need to re-deploy your app to get the latest version."}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"fly deploy --image actualbudget/actual-server:latest --app your-app-name\n"})}),"\n",(0,o.jsx)(n.h3,{id:"local-terminal-1",children:"Local terminal"}),"\n",(0,o.jsx)(n.p,{children:"Open a terminal window and navigate to the folder where you set up Actual. Run the following command:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"fly deploy\n"})}),"\n",(0,o.jsx)(n.h2,{id:"cost-optimizations",children:"Cost Optimizations"}),"\n",(0,o.jsx)(n.p,{children:"If you're looking to lower your monthly compute costs for Actual Budget and can accept a 5-15 second delay when starting your budgeting session, you can add this feature to your services section and re-deploy."}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-toml",children:'[[services]]\n  auto_stop_machines = "stop"\n  auto_start_machines = true\n  min_machines_running = 0\n'})}),"\n",(0,o.jsx)(n.p,{children:"With these settings, Fly.io will automatically stop your instance after a few minutes of inactivity. When a new request comes in, the instance will start up again, which may take 5-15 seconds."}),"\n",(0,o.jsx)(n.h2,{id:"frequent-issues",children:"Frequent Issues"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Q."})," ",(0,o.jsx)(n.em,{children:"I have deployed actual to Fly.io but I am being charged, why is this?"})]}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"A."})," Pay as you go plans are billed for all usage monthly."]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Q."})," ",(0,o.jsx)(n.em,{children:"How can I try out a beta/unstable version of Actual?"})]}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"A."})," We publish unstable releases of Actual every day. These versions may have known or unknown issues that could corrupt your budget. If you\u2019d like to try them out, follow the ",(0,o.jsx)(n.a,{href:"#updating-actual",children:"instructions to update"})," above, but change ",(0,o.jsx)(n.code,{children:"actualbudget/actual-server:latest"})," to ",(0,o.jsx)(n.code,{children:"actualbudget/actual-server:edge"}),"."]}),"\n"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},23678:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/macos-install-4@2x-397bb2882d639859eca7e7f962d25d00.png"},25208:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/macos-install-2@2x-4baf028953ee469dbc4999282dcaaa0e.png"},30747:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/macos-install-3@2x-7d6fa0bf3b2768619aff7fa7cd504d7c.png"},35043:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/windows-install-1-b61003d7fa69c03210afcc649020ea84.png"},63419:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/fly-dash-2-a5feeffb6a2ace4a12683476cfc3f47f.png"},64820:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/actual-register-0c338c769d6bdf2d7048c35ae36d14ed.png"},71184:(e,n,t)=>{t.d(n,{R:()=>l,x:()=>a});var i=t(14041);const o={},s=i.createContext(o);function l(e){const n=i.useContext(s);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:l(e.components),i.createElement(s.Provider,{value:n},e.children)}},71769:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/actual-config-1@2x-257e8645d6bbfc6086e0198efaa770b0.png"},85045:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/macos-install-1@2x-73e4f8318438b9f87b7f389cf6d641f3.png"},92049:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/windows-install-3-49f7eac38d9e3c61cd5def62425cdfee.png"},98184:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/windows-install-2-b61c118ed1415113aeff76954deb1cb2.png"}}]);